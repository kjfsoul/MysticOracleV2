import{u as l,r as d,l as u,j as e,C as m,a as h,b as x,t as p,d as g,e as b,aq as f,f as j,B as y,L as N,ap as w}from"./index-B2YqtOc4.js";import{P as C}from"./page-header-C2A0c6Cw.js";const P=[{id:"price_basic",name:"Basic",price:4.99,features:["Unlimited tarot readings","Basic AI interpretations","Daily horoscopes","Birth chart basics"]},{id:"price_pro",name:"Pro",price:9.99,features:["Everything in Basic","Advanced AI tarot insights","Premium daily horoscopes","Full birth chart analysis","Compatibility readings","Personalized lunar event notifications"]}];function S(){const{user:o}=l(),[a,i]=d.useState(null),{toast:t}=u(),c=async s=>{if(!o){t({title:"Authentication required",description:"Please sign in to subscribe to a plan",variant:"destructive"});return}i(s);try{const r=await w("/api/create-checkout-session",{method:"POST",body:JSON.stringify({planId:s})});if(r!=null&&r.url)window.location.href=r.url;else throw new Error("Failed to create checkout session")}catch(r){console.error("Error creating checkout session:",r),t({title:"Subscription error",description:"There was a problem processing your subscription request. Please try again later.",variant:"destructive"})}finally{i(null)}};return e.jsxs("div",{className:"container mx-auto py-12 px-4",children:[e.jsx(C,{title:"Subscription Plans",subtitle:"Choose the perfect plan for your mystical journey"}),e.jsx("div",{className:"mt-12 grid md:grid-cols-2 gap-8 max-w-5xl mx-auto",children:P.map(s=>e.jsxs(m,{className:"border border-gold/30 flex flex-col",children:[e.jsxs(h,{children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(x,{className:"text-2xl",children:s.name}),e.jsxs(p,{className:"bg-gold text-background",children:["$",s.price,"/month"]})]}),e.jsx(g,{children:"Unlock your mystical potential"})]}),e.jsx(b,{className:"flex-grow",children:e.jsx("ul",{className:"space-y-2",children:s.features.map((r,n)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx(f,{className:"h-5 w-5 text-gold mr-2 mt-0.5"}),e.jsx("span",{children:r})]},n))})}),e.jsx(j,{children:e.jsxs(y,{className:"w-full bg-gold hover:bg-gold/80 text-background",onClick:()=>c(s.id),disabled:!!a,children:[a===s.id&&e.jsx(N,{className:"mr-2 h-4 w-4 animate-spin"}),"Subscribe Now"]})})]},s.id))})]})}export{S as default};
