import{u as C,l as S,r as p,j as e,C as n,a as l,b as o,d as j,e as c,B as h,T,m as H,n as b,p as g,H as w,w as P,f as D,ap as L}from"./index-C07lX9-t.js";import{P as z}from"./page-header-Bmn74QbT.js";import{u as k}from"./useMutation-Bb0CkG-S.js";import{S as q}from"./separator-Bv-CIF_l.js";function I(){const{user:t}=C(),{toast:m}=S(),[u,x]=p.useState(!1),[a,v]=p.useState({birthDate:"",birthTime:"12:00",birthLocation:"",question:""}),d=s=>{const{name:i,value:f}=s.target;v(y=>({...y,[i]:f}))},r=k({mutationFn:async s=>L(t?"/api/tarot-readings/zodiac-spread":"/api/public/zodiac-spread",{method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}}),onSuccess:s=>{m({title:"Zodiac Spread Generated",description:"Your personalized zodiac spread is ready."}),s&&!s.cards&&s.reading&&(r.data=s.reading)},onError:s=>{m({title:"Error Generating Spread",description:"There was an error generating your zodiac spread. Please try again.",variant:"destructive"})}}),N=async s=>{s.preventDefault(),x(!0);try{await r.mutateAsync(a)}finally{x(!1)}};return e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsx("div",{children:e.jsxs(n,{children:[e.jsxs(l,{children:[e.jsx(o,{children:"Zodiac Spread"}),e.jsx(j,{children:"A unique tarot spread based on your astrological birth chart. This spread reveals insights for each of the 12 astrological houses in your chart."})]}),e.jsx(c,{children:e.jsxs("form",{onSubmit:N,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"birthDate",className:"block text-sm font-medium",children:"Birth Date"}),e.jsx("input",{id:"birthDate",name:"birthDate",type:"date",required:!0,value:a.birthDate,onChange:d,className:"w-full p-2 border rounded-md"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"birthTime",className:"block text-sm font-medium",children:"Birth Time (approximate)"}),e.jsx("input",{id:"birthTime",name:"birthTime",type:"time",value:a.birthTime,onChange:d,className:"w-full p-2 border rounded-md"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"birthLocation",className:"block text-sm font-medium",children:"Birth Location"}),e.jsx("input",{id:"birthLocation",name:"birthLocation",type:"text",placeholder:"City, Country",required:!0,value:a.birthLocation,onChange:d,className:"w-full p-2 border rounded-md"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"question",className:"block text-sm font-medium",children:"Question (Optional)"}),e.jsx("input",{id:"question",name:"question",type:"text",placeholder:"What would you like to know?",value:a.question,onChange:d,className:"w-full p-2 border rounded-md"})]}),e.jsx(h,{type:"submit",disabled:u||r.isPending,className:"w-full",children:u||r.isPending?"Generating...":"Generate Zodiac Spread"})]})})]})}),e.jsx("div",{children:e.jsxs(n,{className:"h-full",children:[e.jsx(l,{children:e.jsx(o,{children:"About Zodiac Spread"})}),e.jsxs(c,{className:"space-y-4",children:[e.jsx("p",{children:"The Zodiac Spread is a specialized tarot reading that aligns with your personal astrological chart. Each card corresponds to one of the 12 houses in your birth chart, revealing insights about different areas of your life."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"border p-2 rounded",children:[e.jsx("strong",{children:"1st House:"})," Self & Identity"]}),e.jsxs("div",{className:"border p-2 rounded",children:[e.jsx("strong",{children:"2nd House:"})," Wealth & Values"]}),e.jsxs("div",{className:"border p-2 rounded",children:[e.jsx("strong",{children:"3rd House:"})," Communication & Learning"]}),e.jsxs("div",{className:"border p-2 rounded",children:[e.jsx("strong",{children:"4th House:"})," Home & Family"]}),e.jsxs("div",{className:"border p-2 rounded",children:[e.jsx("strong",{children:"5th House:"})," Creativity & Pleasure"]}),e.jsxs("div",{className:"border p-2 rounded",children:[e.jsx("strong",{children:"6th House:"})," Health & Service"]}),e.jsxs("div",{className:"border p-2 rounded",children:[e.jsx("strong",{children:"7th House:"})," Partnerships"]}),e.jsxs("div",{className:"border p-2 rounded",children:[e.jsx("strong",{children:"8th House:"})," Transformation"]}),e.jsxs("div",{className:"border p-2 rounded",children:[e.jsx("strong",{children:"9th House:"})," Higher Learning"]}),e.jsxs("div",{className:"border p-2 rounded",children:[e.jsx("strong",{children:"10th House:"})," Career & Status"]}),e.jsxs("div",{className:"border p-2 rounded",children:[e.jsx("strong",{children:"11th House:"})," Community & Aspirations"]}),e.jsxs("div",{className:"border p-2 rounded",children:[e.jsx("strong",{children:"12th House:"})," Spirituality"]})]}),e.jsx(q,{}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Premium Features:"}),e.jsxs("ul",{className:"list-disc pl-5",children:[e.jsx("li",{children:"Enhanced card selection based on elemental associations"}),e.jsx("li",{children:"More detailed interpretations for each house"}),e.jsx("li",{children:"Ability to save and compare multiple readings"})]})]})]})]})})]}),r.data&&e.jsx("div",{className:"mt-8",children:e.jsxs(n,{children:[e.jsxs(l,{children:[e.jsx(o,{children:"Your Zodiac Spread"}),e.jsxs(j,{children:["Based on birth chart for ",a.birthDate," at"," ",a.birthTime," in ",a.birthLocation]})]}),e.jsx(c,{children:e.jsxs(T,{defaultValue:"spread",children:[e.jsxs(H,{children:[e.jsx(b,{value:"spread",children:"Card Spread"}),e.jsx(b,{value:"interpretation",children:"Interpretation"})]}),e.jsx(g,{value:"spread",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mt-4",children:(r.data.cards||[]).map((s,i)=>e.jsxs("div",{className:"flex flex-col items-center bg-primary/5 p-4 rounded-lg",children:[e.jsxs("div",{className:"text-center mb-2",children:[e.jsxs("span",{className:"text-xs text-muted-foreground",children:[i+1,"/12"]}),e.jsx("h3",{className:"text-sm font-medium",children:s.position})]}),e.jsx(w,{cardName:s.name,arcana:s.arcana,suit:s.suit,isReversed:s.reversal,size:"md"}),e.jsxs("div",{className:"mt-2 text-center",children:[e.jsx("h4",{className:"font-semibold",children:s.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.reversal?"Reversed":"Upright"})]})]},i))})}),e.jsx(g,{value:"interpretation",children:e.jsxs("div",{className:"prose dark:prose-invert mt-4 max-w-none",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-lg font-semibold border-b pb-2",children:"Complete Reading"}),e.jsx("div",{className:"mt-4 whitespace-pre-line",children:r.data.interpretation})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-lg font-semibold border-b pb-2",children:"Cards by House"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-4",children:(r.data.cards||[]).map((s,i)=>e.jsxs("div",{className:"border rounded-lg p-4 bg-card/50",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"bg-primary/10 h-8 w-8 flex items-center justify-center rounded-full",children:e.jsx("span",{className:"text-sm font-bold",children:i+1})}),e.jsxs("h4",{className:"font-semibold",children:[s.position,": ",s.name," ",s.reversal?"(Reversed)":""]})]}),e.jsx("p",{className:"text-sm",children:s.description})]},i))})]}),t&&t.subscriptionLevel!=="free"&&r.data.aiInsight&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold border-b pb-2",children:"Premium AI Insight"}),e.jsx("div",{className:"mt-4 bg-primary/10 p-6 rounded-lg",children:e.jsx("div",{className:"whitespace-pre-line",children:r.data.aiInsight})})]}),!t&&e.jsxs("div",{className:"bg-muted p-4 rounded-lg border",children:[e.jsx("h4",{className:"text-base font-medium",children:"Sign up for Premium Benefits"}),e.jsx("p",{className:"text-sm mb-2",children:"Premium members receive detailed AI insights and personalized readings."}),e.jsx(P,{href:"/signup",className:"text-primary hover:underline text-sm font-medium",children:"Create an account â†’"})]})]})})]})}),e.jsxs(D,{children:[e.jsx(h,{variant:"outline",className:"mr-2",onClick:()=>r.reset(),children:"New Reading"}),t&&e.jsx(h,{children:"Save Reading"})]})]})})]})}function R(){return e.jsxs("div",{className:"container mx-auto px-4 py-6",children:[e.jsx(z,{title:"Zodiac Spread",subtitle:"Discover insights through a specialized tarot spread based on your birth chart"}),e.jsx(I,{})]})}export{R as default};
