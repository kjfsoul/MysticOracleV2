import{c as _t,j as o,C as Fe,T as at,m as it,n as re,p as se,r as f,k as ee,q as ur,Q as fr,R as b,V as hr,W as bt,Y as vt,Z as wt,_ as Nt,$ as Ct,a0 as jt,a1 as Re,a2 as Wt,a3 as At,g as It,a4 as Ft,a5 as Ye,P as ct,a6 as U,a7 as lt,a8 as dt,a9 as mr,aa as gr,ab as pr,ac as xr,ad as yr,ae as br,af as Rt,ag as Yt,ah as Bt,ai as vr,aj as wr,u as $t,s as me,I as Ze,B as z,ak as Nr,v as Me,U as Cr,al as jr,e as ut,a as Lt,b as Ht,d as zt,t as kr,f as Mr,l as Dr,am as Or,an as kt,N as Sr,M as Tr,ao as Er,ap as We}from"./index-B2YqtOc4.js";import{u as Pr}from"./useMutation-DOD8PJO_.js";import{A as qt,a as Gt}from"./alert-CWCisd-e.js";import{A as _r,t as L,c as J,n as Se,s as nt,g as Wr,d as Ar,f as Oe,a as Ir,b as Fr,i as Rr,e as Yr,h as Br,j as $r,k as Vt}from"./format-CYPLZyfk.js";import{F as Lr,C as Hr,u as zr,a as qr,s as Gr,z as ve}from"./index-Dwn4jD2S.js";import{C as Ut}from"./calendar-3uPonnul.js";import{I as Mt}from"./info-B0DWailu.js";import{A as Vr}from"./arrow-left-f5b1tyEo.js";import{S as Ur}from"./subscription-banner-C944kJf-.js";/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Jr=_t("chevron-left",Zr);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kr=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Zt=_t("map-pin",Kr);function Xr({chartData:e,interpretation:t,onNewChart:n}){const s={sun:"☉",moon:"☽",mercury:"☿",venus:"♀",mars:"♂",jupiter:"♃",saturn:"♄",uranus:"♅",neptune:"♆",pluto:"♇"},r={aries:"♈",taurus:"♉",gemini:"♊",cancer:"♋",leo:"♌",virgo:"♍",libra:"♎",scorpio:"♏",sagittarius:"♐",capricorn:"♑",aquarius:"♒",pisces:"♓"},{positions:a}=e;return a?o.jsx(Fe,{className:"w-full",children:o.jsxs(at,{defaultValue:"chart",className:"w-full",children:[!e.validLocation&&o.jsxs(qt,{className:"mb-4",children:[o.jsx(Zt,{className:"h-4 w-4"}),o.jsx(Gt,{children:"Location could not be verified. Some chart features may be limited."})]}),o.jsxs(it,{className:"grid w-full grid-cols-2",children:[o.jsx(re,{value:"chart",children:"Chart"}),o.jsx(re,{value:"interpretation",children:"Interpretation"})]}),o.jsx(se,{value:"chart",className:"p-4",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:e.formattedLocation}),o.jsx("div",{className:"aspect-square w-full max-w-2xl mx-auto",children:o.jsx(_r,{positions:a,size:500,interactive:!1,hideBackground:!1})}),o.jsx("div",{className:"grid gap-2 mt-4",children:Object.entries(a).map(([i,c])=>{var l,d;return o.jsxs("div",{className:"flex justify-between items-center p-2 rounded-lg hover:bg-muted/50",children:[o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-lg",children:s[i]}),o.jsx("span",{className:"capitalize",children:i})]}),o.jsxs("span",{children:[c.sign," ",r[((l=c.sign)==null?void 0:l.toLowerCase())||""]||"?"," ",((d=c.degree)==null?void 0:d.toFixed(1))||0,"°",c.retrograde&&o.jsx("span",{className:"ml-1 text-muted-foreground",children:"℞"})]})]},i)})})]})}),o.jsx(se,{value:"interpretation",className:"p-4",children:o.jsx("div",{className:"prose prose-invert max-w-none",children:t.split(`
`).map((i,c)=>o.jsx("p",{className:"mb-4",children:i},c))})})]})}):o.jsx("div",{className:"flex items-center justify-center p-8",children:o.jsx("p",{className:"text-muted-foreground",children:"Loading chart data..."})})}function Jt(e,t,n){const s=L(e,n==null?void 0:n.in);return isNaN(t)?J(e,NaN):(t&&s.setDate(s.getDate()+t),s)}function Kt(e,t,n){const s=L(e,n==null?void 0:n.in);if(isNaN(t))return J(e,NaN);if(!t)return s;const r=s.getDate(),a=J(e,s.getTime());a.setMonth(s.getMonth()+t+1,0);const i=a.getDate();return r>=i?a:(s.setFullYear(a.getFullYear(),a.getMonth(),r),s)}function Qr(e,t,n){return Jt(e,t*7,n)}function es(e,t,n){return Kt(e,t*12,n)}function ts(e,t){let n,s=t==null?void 0:t.in;return e.forEach(r=>{!s&&typeof r=="object"&&(s=J.bind(null,r));const a=L(r,s);(!n||n<a||isNaN(+a))&&(n=a)}),J(s,n||NaN)}function ns(e,t){let n,s=t==null?void 0:t.in;return e.forEach(r=>{!s&&typeof r=="object"&&(s=J.bind(null,r));const a=L(r,s);(!n||n>a||isNaN(+a))&&(n=a)}),J(s,n||NaN)}function rs(e,t,n){const[s,r]=Se(n==null?void 0:n.in,e,t);return+nt(s)==+nt(r)}function ss(e,t,n){const[s,r]=Se(n==null?void 0:n.in,e,t),a=s.getFullYear()-r.getFullYear(),i=s.getMonth()-r.getMonth();return a*12+i}function os(e,t){const n=L(e,t==null?void 0:t.in),s=n.getMonth();return n.setFullYear(n.getFullYear(),s+1,0),n.setHours(23,59,59,999),n}function as(e,t){const[n,s]=Se(e,t.start,t.end);return{start:n,end:s}}function is(e,t){const{start:n,end:s}=as(t==null?void 0:t.in,e);let r=+n>+s;const a=r?+n:+s,i=r?s:n;i.setHours(0,0,0,0),i.setDate(1);let c=1;const l=[];for(;+i<=a;)l.push(J(n,i)),i.setMonth(i.getMonth()+c);return r?l.reverse():l}function cs(e,t){const n=L(e,t==null?void 0:t.in);return n.setDate(1),n.setHours(0,0,0,0),n}function ls(e,t){const n=L(e,t==null?void 0:t.in),s=n.getFullYear();return n.setFullYear(s+1,0,0),n.setHours(23,59,59,999),n}function Xt(e,t){var c,l,d,h;const n=Wr(),s=(t==null?void 0:t.weekStartsOn)??((l=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??0,r=L(e,t==null?void 0:t.in),a=r.getDay(),i=(a<s?-7:0)+6-(a-s);return r.setDate(r.getDate()+i),r.setHours(23,59,59,999),r}function ds(e,t){return Xt(e,{...t,weekStartsOn:1})}function us(e,t){const n=L(e,t==null?void 0:t.in),s=n.getFullYear(),r=n.getMonth(),a=J(n,0);return a.setFullYear(s,r+1,0),a.setHours(0,0,0,0),a.getDate()}function fs(e,t){return L(e,t==null?void 0:t.in).getMonth()}function hs(e,t){return L(e,t==null?void 0:t.in).getFullYear()}function ms(e,t){return+L(e)>+L(t)}function gs(e,t){return+L(e)<+L(t)}function ps(e,t,n){const[s,r]=Se(n==null?void 0:n.in,e,t);return s.getFullYear()===r.getFullYear()&&s.getMonth()===r.getMonth()}function xs(e,t,n){const[s,r]=Se(n==null?void 0:n.in,e,t);return s.getFullYear()===r.getFullYear()}function ys(e,t,n){const s=L(e,n==null?void 0:n.in),r=s.getFullYear(),a=s.getDate(),i=J(e,0);i.setFullYear(r,t,15),i.setHours(0,0,0,0);const c=us(i);return s.setMonth(t,Math.min(a,c)),s}function bs(e,t,n){const s=L(e,n==null?void 0:n.in);return isNaN(+s)?J(e,NaN):(s.setFullYear(t),s)}const vs=Lr,Qt=f.createContext({}),Ae=({...e})=>o.jsx(Qt.Provider,{value:{name:e.name},children:o.jsx(Hr,{...e})}),Be=()=>{const e=f.useContext(Qt),t=f.useContext(en),{getFieldState:n,formState:s}=zr(),r=n(e.name,s);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:a}=t;return{id:a,name:e.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...r}},en=f.createContext({}),we=f.forwardRef(({className:e,...t},n)=>{const s=f.useId();return o.jsx(en.Provider,{value:{id:s},children:o.jsx("div",{ref:n,className:ee("space-y-2",e),...t})})});we.displayName="FormItem";const Ne=f.forwardRef(({className:e,...t},n)=>{const{error:s,formItemId:r}=Be();return o.jsx(ur,{ref:n,className:ee(s&&"text-destructive",e),htmlFor:r,...t})});Ne.displayName="FormLabel";const Ce=f.forwardRef(({...e},t)=>{const{error:n,formItemId:s,formDescriptionId:r,formMessageId:a}=Be();return o.jsx(fr,{ref:t,id:s,"aria-describedby":n?`${r} ${a}`:`${r}`,"aria-invalid":!!n,...e})});Ce.displayName="FormControl";const ws=f.forwardRef(({className:e,...t},n)=>{const{formDescriptionId:s}=Be();return o.jsx("p",{ref:n,id:s,className:ee("text-sm text-muted-foreground",e),...t})});ws.displayName="FormDescription";const je=f.forwardRef(({className:e,children:t,...n},s)=>{const{error:r,formMessageId:a}=Be(),i=r?String(r==null?void 0:r.message):t;return i?o.jsx("p",{ref:s,id:a,className:ee("text-sm font-medium text-destructive",e),...n,children:i}):null});je.displayName="FormMessage";var D;(function(e){e.Root="root",e.Chevron="chevron",e.Day="day",e.DayButton="day_button",e.CaptionLabel="caption_label",e.Dropdowns="dropdowns",e.Dropdown="dropdown",e.DropdownRoot="dropdown_root",e.Footer="footer",e.MonthGrid="month_grid",e.MonthCaption="month_caption",e.MonthsDropdown="months_dropdown",e.Month="month",e.Months="months",e.Nav="nav",e.NextMonthButton="button_next",e.PreviousMonthButton="button_previous",e.Week="week",e.Weeks="weeks",e.Weekday="weekday",e.Weekdays="weekdays",e.WeekNumber="week_number",e.WeekNumberHeader="week_number_header",e.YearsDropdown="years_dropdown"})(D||(D={}));var A;(function(e){e.disabled="disabled",e.hidden="hidden",e.outside="outside",e.focused="focused",e.today="today"})(A||(A={}));var Z;(function(e){e.range_end="range_end",e.range_middle="range_middle",e.range_start="range_start",e.selected="selected"})(Z||(Z={}));var q;(function(e){e.weeks_before_enter="weeks_before_enter",e.weeks_before_exit="weeks_before_exit",e.weeks_after_enter="weeks_after_enter",e.weeks_after_exit="weeks_after_exit",e.caption_after_enter="caption_after_enter",e.caption_after_exit="caption_after_exit",e.caption_before_enter="caption_before_enter",e.caption_before_exit="caption_before_exit"})(q||(q={}));const Je={},ke={};function De(e,t){try{const s=(Je[e]||(Je[e]=new Intl.DateTimeFormat("en-GB",{timeZone:e,hour:"numeric",timeZoneName:"longOffset"}).format))(t).split("GMT")[1]||"";return s in ke?ke[s]:Dt(s,s.split(":"))}catch{if(e in ke)return ke[e];const n=e==null?void 0:e.match(Ns);return n?Dt(e,n.slice(1)):NaN}}const Ns=/([+-]\d\d):?(\d\d)?/;function Dt(e,t){const n=+t[0],s=+(t[1]||0);return ke[e]=n>0?n*60+s:n*60-s}class Q extends Date{constructor(...t){super(),t.length>1&&typeof t[t.length-1]=="string"&&(this.timeZone=t.pop()),this.internal=new Date,isNaN(De(this.timeZone,this))?this.setTime(NaN):t.length?typeof t[0]=="number"&&(t.length===1||t.length===2&&typeof t[1]!="number")?this.setTime(t[0]):typeof t[0]=="string"?this.setTime(+new Date(t[0])):t[0]instanceof Date?this.setTime(+t[0]):(this.setTime(+new Date(...t)),tn(this),rt(this)):this.setTime(Date.now())}static tz(t,...n){return n.length?new Q(...n,t):new Q(Date.now(),t)}withTimeZone(t){return new Q(+this,t)}getTimezoneOffset(){return-De(this.timeZone,this)}setTime(t){return Date.prototype.setTime.apply(this,arguments),rt(this),+this}[Symbol.for("constructDateFrom")](t){return new Q(+new Date(t),this.timeZone)}}const Ot=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(!Ot.test(e))return;const t=e.replace(Ot,"$1UTC");Q.prototype[t]&&(e.startsWith("get")?Q.prototype[e]=function(){return this.internal[t]()}:(Q.prototype[e]=function(){return Date.prototype[t].apply(this.internal,arguments),Cs(this),+this},Q.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),rt(this),+this}))});function rt(e){e.internal.setTime(+e),e.internal.setUTCMinutes(e.internal.getUTCMinutes()-e.getTimezoneOffset())}function Cs(e){Date.prototype.setFullYear.call(e,e.internal.getUTCFullYear(),e.internal.getUTCMonth(),e.internal.getUTCDate()),Date.prototype.setHours.call(e,e.internal.getUTCHours(),e.internal.getUTCMinutes(),e.internal.getUTCSeconds(),e.internal.getUTCMilliseconds()),tn(e)}function tn(e){const t=De(e.timeZone,e),n=new Date(+e);n.setUTCHours(n.getUTCHours()-1);const s=-new Date(+e).getTimezoneOffset(),r=-new Date(+n).getTimezoneOffset(),a=s-r,i=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();a&&i&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+a);const c=s-t;c&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+c);const l=De(e.timeZone,e),h=-new Date(+e).getTimezoneOffset()-l,u=l!==t,g=h-c;if(u&&g){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+g);const p=De(e.timeZone,e),y=l-p;y&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+y),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+y))}}class de extends Q{static tz(t,...n){return n.length?new de(...n,t):new de(Date.now(),t)}toISOString(){const[t,n,s]=this.tzComponents(),r=`${t}${n}:${s}`;return this.internal.toISOString().slice(0,-1)+r}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[t,n,s,r]=this.internal.toUTCString().split(" ");return`${t==null?void 0:t.slice(0,-1)} ${s} ${n} ${r}`}toTimeString(){const t=this.internal.toUTCString().split(" ")[4],[n,s,r]=this.tzComponents();return`${t} GMT${n}${s}${r} (${js(this.timeZone,this)})`}toLocaleString(t,n){return Date.prototype.toLocaleString.call(this,t,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}toLocaleDateString(t,n){return Date.prototype.toLocaleDateString.call(this,t,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}toLocaleTimeString(t,n){return Date.prototype.toLocaleTimeString.call(this,t,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}tzComponents(){const t=this.getTimezoneOffset(),n=t>0?"-":"+",s=String(Math.floor(Math.abs(t)/60)).padStart(2,"0"),r=String(Math.abs(t)%60).padStart(2,"0");return[n,s,r]}withTimeZone(t){return new de(+this,t)}[Symbol.for("constructDateFrom")](t){return new de(+new Date(t),this.timeZone)}}function js(e,t){return new Intl.DateTimeFormat("en-GB",{timeZone:e,timeZoneName:"long"}).format(t).slice(12)}const St=5,ks=4;function Ms(e,t){const n=t.startOfMonth(e),s=n.getDay()>0?n.getDay():7,r=t.addDays(e,-s+1),a=t.addDays(r,St*7-1);return t.getMonth(e)===t.getMonth(a)?St:ks}function nn(e,t){const n=t.startOfMonth(e),s=n.getDay();return s===1?n:s===0?t.addDays(n,-1*6):t.addDays(n,-1*(s-1))}function Ds(e,t){const n=nn(e,t),s=Ms(e,t);return t.addDays(n,s*7-1)}class ie{constructor(t,n){this.Date=Date,this.today=()=>{var s;return(s=this.overrides)!=null&&s.today?this.overrides.today():this.options.timeZone?de.tz(this.options.timeZone):new this.Date},this.newDate=(s,r,a)=>{var i;return(i=this.overrides)!=null&&i.newDate?this.overrides.newDate(s,r,a):this.options.timeZone?new de(s,r,a,this.options.timeZone):new Date(s,r,a)},this.addDays=(s,r)=>{var a;return(a=this.overrides)!=null&&a.addDays?this.overrides.addDays(s,r):Jt(s,r)},this.addMonths=(s,r)=>{var a;return(a=this.overrides)!=null&&a.addMonths?this.overrides.addMonths(s,r):Kt(s,r)},this.addWeeks=(s,r)=>{var a;return(a=this.overrides)!=null&&a.addWeeks?this.overrides.addWeeks(s,r):Qr(s,r)},this.addYears=(s,r)=>{var a;return(a=this.overrides)!=null&&a.addYears?this.overrides.addYears(s,r):es(s,r)},this.differenceInCalendarDays=(s,r)=>{var a;return(a=this.overrides)!=null&&a.differenceInCalendarDays?this.overrides.differenceInCalendarDays(s,r):Ar(s,r)},this.differenceInCalendarMonths=(s,r)=>{var a;return(a=this.overrides)!=null&&a.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(s,r):ss(s,r)},this.eachMonthOfInterval=s=>{var r;return(r=this.overrides)!=null&&r.eachMonthOfInterval?this.overrides.eachMonthOfInterval(s):is(s)},this.endOfBroadcastWeek=s=>{var r;return(r=this.overrides)!=null&&r.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(s,this):Ds(s,this)},this.endOfISOWeek=s=>{var r;return(r=this.overrides)!=null&&r.endOfISOWeek?this.overrides.endOfISOWeek(s):ds(s)},this.endOfMonth=s=>{var r;return(r=this.overrides)!=null&&r.endOfMonth?this.overrides.endOfMonth(s):os(s)},this.endOfWeek=s=>{var r;return(r=this.overrides)!=null&&r.endOfWeek?this.overrides.endOfWeek(s,this.options):Xt(s,this.options)},this.endOfYear=s=>{var r;return(r=this.overrides)!=null&&r.endOfYear?this.overrides.endOfYear(s):ls(s)},this.format=(s,r)=>{var i;const a=(i=this.overrides)!=null&&i.format?this.overrides.format(s,r,this.options):Oe(s,r,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(a):a},this.getISOWeek=s=>{var r;return(r=this.overrides)!=null&&r.getISOWeek?this.overrides.getISOWeek(s):Ir(s)},this.getMonth=s=>{var r;return(r=this.overrides)!=null&&r.getMonth?this.overrides.getMonth(s,this.options):fs(s,this.options)},this.getYear=s=>{var r;return(r=this.overrides)!=null&&r.getYear?this.overrides.getYear(s,this.options):hs(s,this.options)},this.getWeek=s=>{var r;return(r=this.overrides)!=null&&r.getWeek?this.overrides.getWeek(s,this.options):Fr(s,this.options)},this.isAfter=(s,r)=>{var a;return(a=this.overrides)!=null&&a.isAfter?this.overrides.isAfter(s,r):ms(s,r)},this.isBefore=(s,r)=>{var a;return(a=this.overrides)!=null&&a.isBefore?this.overrides.isBefore(s,r):gs(s,r)},this.isDate=s=>{var r;return(r=this.overrides)!=null&&r.isDate?this.overrides.isDate(s):Rr(s)},this.isSameDay=(s,r)=>{var a;return(a=this.overrides)!=null&&a.isSameDay?this.overrides.isSameDay(s,r):rs(s,r)},this.isSameMonth=(s,r)=>{var a;return(a=this.overrides)!=null&&a.isSameMonth?this.overrides.isSameMonth(s,r):ps(s,r)},this.isSameYear=(s,r)=>{var a;return(a=this.overrides)!=null&&a.isSameYear?this.overrides.isSameYear(s,r):xs(s,r)},this.max=s=>{var r;return(r=this.overrides)!=null&&r.max?this.overrides.max(s):ts(s)},this.min=s=>{var r;return(r=this.overrides)!=null&&r.min?this.overrides.min(s):ns(s)},this.setMonth=(s,r)=>{var a;return(a=this.overrides)!=null&&a.setMonth?this.overrides.setMonth(s,r):ys(s,r)},this.setYear=(s,r)=>{var a;return(a=this.overrides)!=null&&a.setYear?this.overrides.setYear(s,r):bs(s,r)},this.startOfBroadcastWeek=s=>{var r;return(r=this.overrides)!=null&&r.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(s,this):nn(s,this)},this.startOfDay=s=>{var r;return(r=this.overrides)!=null&&r.startOfDay?this.overrides.startOfDay(s):nt(s)},this.startOfISOWeek=s=>{var r;return(r=this.overrides)!=null&&r.startOfISOWeek?this.overrides.startOfISOWeek(s):Yr(s)},this.startOfMonth=s=>{var r;return(r=this.overrides)!=null&&r.startOfMonth?this.overrides.startOfMonth(s):cs(s)},this.startOfWeek=s=>{var r;return(r=this.overrides)!=null&&r.startOfWeek?this.overrides.startOfWeek(s,this.options):Br(s,this.options)},this.startOfYear=s=>{var r;return(r=this.overrides)!=null&&r.startOfYear?this.overrides.startOfYear(s):$r(s)},this.options={locale:Vt,...t},this.overrides=n}getDigitMap(){const{numerals:t="latn"}=this.options,n=new Intl.NumberFormat("en-US",{numberingSystem:t}),s={};for(let r=0;r<10;r++)s[r.toString()]=n.format(r);return s}replaceDigits(t){const n=this.getDigitMap();return t.replace(/\d/g,s=>n[s]||s)}formatNumber(t){return this.replaceDigits(t.toString())}}const ce=new ie;function Os(e,t,n={}){return Object.entries(e).filter(([,r])=>r===!0).reduce((r,[a])=>(n[a]?r.push(n[a]):t[A[a]]?r.push(t[A[a]]):t[Z[a]]&&r.push(t[Z[a]]),r),[t[D.Day]])}function Ss(e){return b.createElement("button",{...e})}function Ts(e){return b.createElement("span",{...e})}function Es(e){const{size:t=24,orientation:n="left",className:s}=e;return b.createElement("svg",{className:s,width:t,height:t,viewBox:"0 0 24 24"},n==="up"&&b.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),n==="down"&&b.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),n==="left"&&b.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),n==="right"&&b.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function Ps(e){const{day:t,modifiers:n,...s}=e;return b.createElement("td",{...s})}function _s(e){const{day:t,modifiers:n,...s}=e,r=b.useRef(null);return b.useEffect(()=>{var a;n.focused&&((a=r.current)==null||a.focus())},[n.focused]),b.createElement("button",{ref:r,...s})}function Ws(e){const{options:t,className:n,components:s,classNames:r,...a}=e,i=[r[D.Dropdown],n].join(" "),c=t==null?void 0:t.find(({value:l})=>l===a.value);return b.createElement("span",{"data-disabled":a.disabled,className:r[D.DropdownRoot]},b.createElement(s.Select,{className:i,...a},t==null?void 0:t.map(({value:l,label:d,disabled:h})=>b.createElement(s.Option,{key:l,value:l,disabled:h},d))),b.createElement("span",{className:r[D.CaptionLabel],"aria-hidden":!0},c==null?void 0:c.label,b.createElement(s.Chevron,{orientation:"down",size:18,className:r[D.Chevron]})))}function As(e){return b.createElement("div",{...e})}function Is(e){return b.createElement("div",{...e})}function Fs(e){const{calendarMonth:t,displayIndex:n,...s}=e;return b.createElement("div",{...s},e.children)}function Rs(e){const{calendarMonth:t,displayIndex:n,...s}=e;return b.createElement("div",{...s})}function Ys(e){return b.createElement("table",{...e})}function Bs(e){return b.createElement("div",{...e})}const rn=f.createContext(void 0);function ye(){const e=f.useContext(rn);if(e===void 0)throw new Error("useDayPicker() must be used within a custom component.");return e}function $s(e){const{components:t}=ye();return b.createElement(t.Dropdown,{...e})}function Ls(e){const{onPreviousClick:t,onNextClick:n,previousMonth:s,nextMonth:r,...a}=e,{components:i,classNames:c,labels:{labelPrevious:l,labelNext:d}}=ye(),h=f.useCallback(g=>{r&&(n==null||n(g))},[r,n]),u=f.useCallback(g=>{s&&(t==null||t(g))},[s,t]);return b.createElement("nav",{...a},b.createElement(i.PreviousMonthButton,{type:"button",className:c[D.PreviousMonthButton],tabIndex:s?void 0:-1,"aria-disabled":s?void 0:!0,"aria-label":l(s),onClick:u},b.createElement(i.Chevron,{disabled:s?void 0:!0,className:c[D.Chevron],orientation:"left"})),b.createElement(i.NextMonthButton,{type:"button",className:c[D.NextMonthButton],tabIndex:r?void 0:-1,"aria-disabled":r?void 0:!0,"aria-label":d(r),onClick:h},b.createElement(i.Chevron,{disabled:r?void 0:!0,orientation:"right",className:c[D.Chevron]})))}function Hs(e){const{components:t}=ye();return b.createElement(t.Button,{...e})}function zs(e){return b.createElement("option",{...e})}function qs(e){const{components:t}=ye();return b.createElement(t.Button,{...e})}function Gs(e){const{rootRef:t,...n}=e;return b.createElement("div",{...n,ref:t})}function Vs(e){return b.createElement("select",{...e})}function Us(e){const{week:t,...n}=e;return b.createElement("tr",{...n})}function Zs(e){return b.createElement("th",{...e})}function Js(e){return b.createElement("thead",{"aria-hidden":!0},b.createElement("tr",{...e}))}function Ks(e){const{week:t,...n}=e;return b.createElement("th",{...n})}function Xs(e){return b.createElement("th",{...e})}function Qs(e){return b.createElement("tbody",{...e})}function eo(e){const{components:t}=ye();return b.createElement(t.Dropdown,{...e})}const to=Object.freeze(Object.defineProperty({__proto__:null,Button:Ss,CaptionLabel:Ts,Chevron:Es,Day:Ps,DayButton:_s,Dropdown:Ws,DropdownNav:As,Footer:Is,Month:Fs,MonthCaption:Rs,MonthGrid:Ys,Months:Bs,MonthsDropdown:$s,Nav:Ls,NextMonthButton:Hs,Option:zs,PreviousMonthButton:qs,Root:Gs,Select:Vs,Week:Us,WeekNumber:Ks,WeekNumberHeader:Xs,Weekday:Zs,Weekdays:Js,Weeks:Qs,YearsDropdown:eo},Symbol.toStringTag,{value:"Module"}));function no(e){return{...to,...e}}function ro(e){const t={"data-mode":e.mode??void 0,"data-required":"required"in e?e.required:void 0,"data-multiple-months":e.numberOfMonths&&e.numberOfMonths>1||void 0,"data-week-numbers":e.showWeekNumber||void 0,"data-broadcast-calendar":e.broadcastCalendar||void 0};return Object.entries(e).forEach(([n,s])=>{n.startsWith("data-")&&(t[n]=s)}),t}function so(){const e={};for(const t in D)e[D[t]]=`rdp-${D[t]}`;for(const t in A)e[A[t]]=`rdp-${A[t]}`;for(const t in Z)e[Z[t]]=`rdp-${Z[t]}`;for(const t in q)e[q[t]]=`rdp-${q[t]}`;return e}function sn(e,t,n){return(n??new ie(t)).format(e,"LLLL y")}const oo=sn;function ao(e,t,n){return(n??new ie(t)).format(e,"d")}function io(e,t=ce){return t.format(e,"LLLL")}function co(e){return e<10?`0${e.toLocaleString()}`:`${e.toLocaleString()}`}function lo(){return""}function uo(e,t,n){return(n??new ie(t)).format(e,"cccccc")}function on(e,t=ce){return t.format(e,"yyyy")}const fo=on,ho=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:sn,formatDay:ao,formatMonthCaption:oo,formatMonthDropdown:io,formatWeekNumber:co,formatWeekNumberHeader:lo,formatWeekdayName:uo,formatYearCaption:fo,formatYearDropdown:on},Symbol.toStringTag,{value:"Module"}));function mo(e){return e!=null&&e.formatMonthCaption&&!e.formatCaption&&(e.formatCaption=e.formatMonthCaption),e!=null&&e.formatYearCaption&&!e.formatYearDropdown&&(e.formatYearDropdown=e.formatYearCaption),{...ho,...e}}function go(e,t,n,s,r){const{startOfMonth:a,startOfYear:i,endOfYear:c,eachMonthOfInterval:l,getMonth:d}=r;return l({start:i(e),end:c(e)}).map(g=>{const p=s.formatMonthDropdown(g,r),y=d(g),k=t&&g<a(t)||n&&g>a(n)||!1;return{value:y,label:p,disabled:k}})}function po(e,t={},n={}){let s={...t==null?void 0:t[D.Day]};return Object.entries(e).filter(([,r])=>r===!0).forEach(([r])=>{s={...s,...n==null?void 0:n[r]}}),s}function xo(e,t,n){const s=e.today(),r=t?e.startOfISOWeek(s):e.startOfWeek(s),a=[];for(let i=0;i<7;i++){const c=e.addDays(r,i);a.push(c)}return a}function yo(e,t,n,s){if(!e||!t)return;const{startOfYear:r,endOfYear:a,addYears:i,getYear:c,isBefore:l,isSameYear:d}=s,h=r(e),u=a(t),g=[];let p=h;for(;l(p,u)||d(p,u);)g.push(p),p=i(p,1);return g.map(y=>{const k=n.formatYearDropdown(y,s);return{value:c(y),label:k,disabled:!1}})}function an(e,t,n){return(n??new ie(t)).format(e,"LLLL y")}const bo=an;function vo(e,t,n,s){let r=(s??new ie(n)).format(e,"PPPP");return t!=null&&t.today&&(r=`Today, ${r}`),r}function cn(e,t,n,s){let r=(s??new ie(n)).format(e,"PPPP");return t.today&&(r=`Today, ${r}`),t.selected&&(r=`${r}, selected`),r}const wo=cn;function No(){return""}function Co(e){return"Choose the Month"}function jo(e){return"Go to the Next Month"}function ko(e){return"Go to the Previous Month"}function Mo(e,t,n){return(n??new ie(t)).format(e,"cccc")}function Do(e,t){return`Week ${e}`}function Oo(e){return"Week Number"}function So(e){return"Choose the Year"}const To=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:bo,labelDay:wo,labelDayButton:cn,labelGrid:an,labelGridcell:vo,labelMonthDropdown:Co,labelNav:No,labelNext:jo,labelPrevious:ko,labelWeekNumber:Do,labelWeekNumberHeader:Oo,labelWeekday:Mo,labelYearDropdown:So},Symbol.toStringTag,{value:"Module"})),Te=e=>e instanceof HTMLElement?e:null,Ke=e=>[...e.querySelectorAll("[data-animated-month]")??[]],Eo=e=>Te(e.querySelector("[data-animated-month]")),Xe=e=>Te(e.querySelector("[data-animated-caption]")),Qe=e=>Te(e.querySelector("[data-animated-weeks]")),Po=e=>Te(e.querySelector("[data-animated-nav]")),_o=e=>Te(e.querySelector("[data-animated-weekdays]"));function Wo(e,t,{classNames:n,months:s,focused:r,dateLib:a}){const i=f.useRef(null),c=f.useRef(s),l=f.useRef(!1);f.useLayoutEffect(()=>{const d=c.current;if(c.current=s,!t||!e.current||!(e.current instanceof HTMLElement)||s.length===0||d.length===0||s.length!==d.length)return;const h=a.isSameMonth(s[0].date,d[0].date),u=a.isAfter(s[0].date,d[0].date),g=u?n[q.caption_after_enter]:n[q.caption_before_enter],p=u?n[q.weeks_after_enter]:n[q.weeks_before_enter],y=i.current,k=e.current.cloneNode(!0);if(k instanceof HTMLElement?(Ke(k).forEach(j=>{if(!(j instanceof HTMLElement))return;const O=Eo(j);O&&j.contains(O)&&j.removeChild(O);const x=Xe(j);x&&x.classList.remove(g);const v=Qe(j);v&&v.classList.remove(p)}),i.current=k):i.current=null,l.current||h||r)return;const w=y instanceof HTMLElement?Ke(y):[],C=Ke(e.current);if(C&&C.every(m=>m instanceof HTMLElement)&&w&&w.every(m=>m instanceof HTMLElement)){l.current=!0,e.current.style.isolation="isolate";const m=Po(e.current);m&&(m.style.zIndex="1"),C.forEach((j,O)=>{const x=w[O];if(!x)return;j.style.position="relative",j.style.overflow="hidden";const v=Xe(j);v&&v.classList.add(g);const M=Qe(j);M&&M.classList.add(p);const E=()=>{l.current=!1,e.current&&(e.current.style.isolation=""),m&&(m.style.zIndex=""),v&&v.classList.remove(g),M&&M.classList.remove(p),j.style.position="",j.style.overflow="",j.contains(x)&&j.removeChild(x)};x.style.pointerEvents="none",x.style.position="absolute",x.style.overflow="hidden",x.setAttribute("aria-hidden","true");const F=_o(x);F&&(F.style.opacity="0");const R=Xe(x);R&&(R.classList.add(u?n[q.caption_before_exit]:n[q.caption_after_exit]),R.addEventListener("animationend",E));const B=Qe(x);B&&B.classList.add(u?n[q.weeks_before_exit]:n[q.weeks_after_exit]),j.insertBefore(x,j.firstChild)})}})}function Ao(e,t,n,s){const r=e[0],a=e[e.length-1],{ISOWeek:i,fixedWeeks:c,broadcastCalendar:l}=n??{},{addDays:d,differenceInCalendarDays:h,differenceInCalendarMonths:u,endOfBroadcastWeek:g,endOfISOWeek:p,endOfMonth:y,endOfWeek:k,isAfter:w,startOfBroadcastWeek:C,startOfISOWeek:m,startOfWeek:j}=s,O=l?C(r,s):i?m(r):j(r),x=l?g(a,s):i?p(y(a)):k(y(a)),v=h(x,O),M=u(a,r)+1,E=[];for(let B=0;B<=v;B++){const Y=d(O,B);if(t&&w(Y,t))break;E.push(Y)}const R=(l?35:42)*M;if(c&&E.length<R){const B=R-E.length;for(let Y=0;Y<B;Y++){const te=d(E[E.length-1],1);E.push(te)}}return E}function Io(e){const t=[];return e.reduce((n,s)=>{const r=[],a=s.weeks.reduce((i,c)=>[...i,...c.days],r);return[...n,...a]},t)}function Fo(e,t,n,s){const{numberOfMonths:r=1}=n,a=[];for(let i=0;i<r;i++){const c=s.addMonths(e,i);if(t&&c>t)break;a.push(c)}return a}function Tt(e,t){const{month:n,defaultMonth:s,today:r=t.today(),numberOfMonths:a=1,endMonth:i,startMonth:c,timeZone:l}=e;let d=n||s||r;const{differenceInCalendarMonths:h,addMonths:u,startOfMonth:g}=t;if(i&&h(i,d)<0){const p=-1*(a-1);d=u(i,p)}return c&&h(d,c)<0&&(d=c),d=l?new de(d,l):d,g(d)}class ln{constructor(t,n,s=ce){this.date=t,this.displayMonth=n,this.outside=!!(n&&!s.isSameMonth(t,n)),this.dateLib=s}isEqualTo(t){return this.dateLib.isSameDay(t.date,this.date)&&this.dateLib.isSameMonth(t.displayMonth,this.displayMonth)}}class Ro{constructor(t,n){this.date=t,this.weeks=n}}class Yo{constructor(t,n){this.days=n,this.weekNumber=t}}function Bo(e,t,n,s){const{addDays:r,endOfBroadcastWeek:a,endOfISOWeek:i,endOfMonth:c,endOfWeek:l,getISOWeek:d,getWeek:h,startOfBroadcastWeek:u,startOfISOWeek:g,startOfWeek:p}=s,y=e.reduce((k,w)=>{const C=n.broadcastCalendar?u(w,s):n.ISOWeek?g(w):p(w),m=n.broadcastCalendar?a(w,s):n.ISOWeek?i(c(w)):l(c(w)),j=t.filter(M=>M>=C&&M<=m),O=n.broadcastCalendar?35:42;if(n.fixedWeeks&&j.length<O){const M=t.filter(E=>{const F=O-j.length;return E>m&&E<=r(m,F)});j.push(...M)}const x=j.reduce((M,E)=>{const F=n.ISOWeek?d(E):h(E),R=M.find(Y=>Y.weekNumber===F),B=new ln(E,w,s);return R?R.days.push(B):M.push(new Yo(F,[B])),M},[]),v=new Ro(w,x);return k.push(v),k},[]);return n.reverseMonths?y.reverse():y}function $o(e,t){let{startMonth:n,endMonth:s}=e;const{startOfYear:r,startOfDay:a,startOfMonth:i,endOfMonth:c,addYears:l,endOfYear:d,newDate:h,today:u}=t,{fromYear:g,toYear:p,fromMonth:y,toMonth:k}=e;!n&&y&&(n=y),!n&&g&&(n=t.newDate(g,0,1)),!s&&k&&(s=k),!s&&p&&(s=h(p,11,31));const w=e.captionLayout==="dropdown"||e.captionLayout==="dropdown-years";return n?n=i(n):g?n=h(g,0,1):!n&&w&&(n=r(l(e.today??u(),-100))),s?s=c(s):p?s=h(p,11,31):!s&&w&&(s=d(e.today??u())),[n&&a(n),s&&a(s)]}function Lo(e,t,n,s){if(n.disableNavigation)return;const{pagedNavigation:r,numberOfMonths:a=1}=n,{startOfMonth:i,addMonths:c,differenceInCalendarMonths:l}=s,d=r?a:1,h=i(e);if(!t)return c(h,d);if(!(l(t,e)<a))return c(h,d)}function Ho(e,t,n,s){if(n.disableNavigation)return;const{pagedNavigation:r,numberOfMonths:a}=n,{startOfMonth:i,addMonths:c,differenceInCalendarMonths:l}=s,d=r?a??1:1,h=i(e);if(!t)return c(h,-d);if(!(l(h,t)<=0))return c(h,-d)}function zo(e){const t=[];return e.reduce((n,s)=>[...n,...s.weeks],t)}function $e(e,t){const[n,s]=f.useState(e);return[t===void 0?n:t,s]}function qo(e,t){const[n,s]=$o(e,t),{startOfMonth:r,endOfMonth:a}=t,i=Tt(e,t),[c,l]=$e(i,e.month?i:void 0);f.useEffect(()=>{const v=Tt(e,t);l(v)},[e.timeZone]);const d=Fo(c,s,e,t),h=Ao(d,e.endMonth?a(e.endMonth):void 0,e,t),u=Bo(d,h,e,t),g=zo(u),p=Io(u),y=Ho(c,n,e,t),k=Lo(c,s,e,t),{disableNavigation:w,onMonthChange:C}=e,m=v=>g.some(M=>M.days.some(E=>E.isEqualTo(v))),j=v=>{if(w)return;let M=r(v);n&&M<r(n)&&(M=r(n)),s&&M>r(s)&&(M=r(s)),l(M),C==null||C(M)};return{months:u,weeks:g,days:p,navStart:n,navEnd:s,previousMonth:y,nextMonth:k,goToMonth:j,goToDay:v=>{m(v)||j(v.date)}}}var X;(function(e){e[e.Today=0]="Today",e[e.Selected=1]="Selected",e[e.LastFocused=2]="LastFocused",e[e.FocusedModifier=3]="FocusedModifier"})(X||(X={}));function Et(e){return!e[A.disabled]&&!e[A.hidden]&&!e[A.outside]}function Go(e,t,n,s){let r,a=-1;for(const i of e){const c=t(i);Et(c)&&(c[A.focused]&&a<X.FocusedModifier?(r=i,a=X.FocusedModifier):s!=null&&s.isEqualTo(i)&&a<X.LastFocused?(r=i,a=X.LastFocused):n(i.date)&&a<X.Selected?(r=i,a=X.Selected):c[A.today]&&a<X.Today&&(r=i,a=X.Today))}return r||(r=e.find(i=>Et(t(i)))),r}function oe(e,t,n=!1,s=ce){let{from:r,to:a}=e;const{differenceInCalendarDays:i,isSameDay:c}=s;return r&&a?(i(a,r)<0&&([r,a]=[a,r]),i(t,r)>=(n?1:0)&&i(a,t)>=(n?1:0)):!n&&a?c(a,t):!n&&r?c(r,t):!1}function dn(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function ft(e){return!!(e&&typeof e=="object"&&"from"in e)}function un(e){return!!(e&&typeof e=="object"&&"after"in e)}function fn(e){return!!(e&&typeof e=="object"&&"before"in e)}function hn(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function mn(e,t){return Array.isArray(e)&&e.every(t.isDate)}function ae(e,t,n=ce){const s=Array.isArray(t)?t:[t],{isSameDay:r,differenceInCalendarDays:a,isAfter:i}=n;return s.some(c=>{if(typeof c=="boolean")return c;if(n.isDate(c))return r(e,c);if(mn(c,n))return c.includes(e);if(ft(c))return oe(c,e,!1,n);if(hn(c))return Array.isArray(c.dayOfWeek)?c.dayOfWeek.includes(e.getDay()):c.dayOfWeek===e.getDay();if(dn(c)){const l=a(c.before,e),d=a(c.after,e),h=l>0,u=d<0;return i(c.before,c.after)?u&&h:h||u}return un(c)?a(e,c.after)>0:fn(c)?a(c.before,e)>0:typeof c=="function"?c(e):!1})}function Vo(e,t,n,s,r,a,i){const{ISOWeek:c,broadcastCalendar:l}=a,{addDays:d,addMonths:h,addWeeks:u,addYears:g,endOfBroadcastWeek:p,endOfISOWeek:y,endOfWeek:k,max:w,min:C,startOfBroadcastWeek:m,startOfISOWeek:j,startOfWeek:O}=i;let v={day:d,week:u,month:h,year:g,startOfWeek:M=>l?m(M,i):c?j(M):O(M),endOfWeek:M=>l?p(M,i):c?y(M):k(M)}[e](n,t==="after"?1:-1);return t==="before"&&s?v=w([s,v]):t==="after"&&r&&(v=C([r,v])),v}function gn(e,t,n,s,r,a,i,c=0){if(c>365)return;const l=Vo(e,t,n.date,s,r,a,i),d=!!(a.disabled&&ae(l,a.disabled,i)),h=!!(a.hidden&&ae(l,a.hidden,i)),u=l,g=new ln(l,u,i);return!d&&!h?g:gn(e,t,g,s,r,a,i,c+1)}function Uo(e,t,n,s,r){const{autoFocus:a}=e,[i,c]=f.useState(),l=Go(t.days,n,s||(()=>!1),i),[d,h]=f.useState(a?l:void 0);return{isFocusTarget:k=>!!(l!=null&&l.isEqualTo(k)),setFocused:h,focused:d,blur:()=>{c(d),h(void 0)},moveFocus:(k,w)=>{if(!d)return;const C=gn(k,w,d,t.navStart,t.navEnd,e,r);C&&(t.goToDay(C),h(C))}}}function Zo(e,t,n){const{disabled:s,hidden:r,modifiers:a,showOutsideDays:i,broadcastCalendar:c,today:l}=t,{isSameDay:d,isSameMonth:h,startOfMonth:u,isBefore:g,endOfMonth:p,isAfter:y}=n,k=t.startMonth&&u(t.startMonth),w=t.endMonth&&p(t.endMonth),C={[A.focused]:[],[A.outside]:[],[A.disabled]:[],[A.hidden]:[],[A.today]:[]},m={};for(const j of e){const{date:O,displayMonth:x}=j,v=!!(x&&!h(O,x)),M=!!(k&&g(O,k)),E=!!(w&&y(O,w)),F=!!(s&&ae(O,s,n)),R=!!(r&&ae(O,r,n))||M||E||!c&&!i&&v||c&&i===!1&&v,B=d(O,l??n.today());v&&C.outside.push(j),F&&C.disabled.push(j),R&&C.hidden.push(j),B&&C.today.push(j),a&&Object.keys(a).forEach(Y=>{const te=a==null?void 0:a[Y];te&&ae(O,te,n)&&(m[Y]?m[Y].push(j):m[Y]=[j])})}return j=>{const O={[A.focused]:!1,[A.disabled]:!1,[A.hidden]:!1,[A.outside]:!1,[A.today]:!1},x={};for(const v in C){const M=C[v];O[v]=M.some(E=>E===j)}for(const v in m)x[v]=m[v].some(M=>M===j);return{...O,...x}}}function Jo(e,t){const{selected:n,required:s,onSelect:r}=e,[a,i]=$e(n,r?n:void 0),c=r?n:a,{isSameDay:l}=t,d=p=>(c==null?void 0:c.some(y=>l(y,p)))??!1,{min:h,max:u}=e;return{selected:c,select:(p,y,k)=>{let w=[...c??[]];if(d(p)){if((c==null?void 0:c.length)===h||s&&(c==null?void 0:c.length)===1)return;w=c==null?void 0:c.filter(C=>!l(C,p))}else(c==null?void 0:c.length)===u?w=[p]:w=[...w,p];return r||i(w),r==null||r(w,p,y,k),w},isSelected:d}}function Ko(e,t,n=0,s=0,r=!1,a=ce){const{from:i,to:c}=t||{},{isSameDay:l,isAfter:d,isBefore:h}=a;let u;if(!i&&!c)u={from:e,to:n>0?void 0:e};else if(i&&!c)l(i,e)?r?u={from:i,to:void 0}:u=void 0:h(e,i)?u={from:e,to:i}:u={from:i,to:e};else if(i&&c)if(l(i,e)&&l(c,e))r?u={from:i,to:c}:u=void 0;else if(l(i,e))u={from:i,to:n>0?void 0:e};else if(l(c,e))u={from:e,to:n>0?void 0:e};else if(h(e,i))u={from:e,to:c};else if(d(e,i))u={from:i,to:e};else if(d(e,c))u={from:i,to:e};else throw new Error("Invalid range");if(u!=null&&u.from&&(u!=null&&u.to)){const g=a.differenceInCalendarDays(u.to,u.from);s>0&&g>s?u={from:e,to:void 0}:n>1&&g<n&&(u={from:e,to:void 0})}return u}function Xo(e,t,n=ce){const s=Array.isArray(t)?t:[t];let r=e.from;const a=n.differenceInCalendarDays(e.to,e.from),i=Math.min(a,6);for(let c=0;c<=i;c++){if(s.includes(r.getDay()))return!0;r=n.addDays(r,1)}return!1}function Pt(e,t,n=ce){return oe(e,t.from,!1,n)||oe(e,t.to,!1,n)||oe(t,e.from,!1,n)||oe(t,e.to,!1,n)}function Qo(e,t,n=ce){const s=Array.isArray(t)?t:[t];if(s.filter(c=>typeof c!="function").some(c=>typeof c=="boolean"?c:n.isDate(c)?oe(e,c,!1,n):mn(c,n)?c.some(l=>oe(e,l,!1,n)):ft(c)?c.from&&c.to?Pt(e,{from:c.from,to:c.to},n):!1:hn(c)?Xo(e,c.dayOfWeek,n):dn(c)?n.isAfter(c.before,c.after)?Pt(e,{from:n.addDays(c.after,1),to:n.addDays(c.before,-1)},n):ae(e.from,c,n)||ae(e.to,c,n):un(c)||fn(c)?ae(e.from,c,n)||ae(e.to,c,n):!1))return!0;const i=s.filter(c=>typeof c=="function");if(i.length){let c=e.from;const l=n.differenceInCalendarDays(e.to,e.from);for(let d=0;d<=l;d++){if(i.some(h=>h(c)))return!0;c=n.addDays(c,1)}}return!1}function ea(e,t){const{disabled:n,excludeDisabled:s,selected:r,required:a,onSelect:i}=e,[c,l]=$e(r,i?r:void 0),d=i?r:c;return{selected:d,select:(g,p,y)=>{const{min:k,max:w}=e,C=g?Ko(g,d,k,w,a,t):void 0;return s&&n&&(C!=null&&C.from)&&C.to&&Qo({from:C.from,to:C.to},n,t)&&(C.from=g,C.to=void 0),i||l(C),i==null||i(C,g,p,y),C},isSelected:g=>d&&oe(d,g,!1,t)}}function ta(e,t){const{selected:n,required:s,onSelect:r}=e,[a,i]=$e(n,r?n:void 0),c=r?n:a,{isSameDay:l}=t;return{selected:c,select:(u,g,p)=>{let y=u;return!s&&c&&c&&l(u,c)&&(y=void 0),r||i(y),r==null||r(y,u,g,p),y},isSelected:u=>c?l(c,u):!1}}function na(e,t){const n=ta(e,t),s=Jo(e,t),r=ea(e,t);switch(e.mode){case"single":return n;case"multiple":return s;case"range":return r;default:return}}function ra(e){const{components:t,formatters:n,labels:s,dateLib:r,locale:a,classNames:i}=f.useMemo(()=>{const S={...Vt,...e.locale};return{dateLib:new ie({locale:S,weekStartsOn:e.broadcastCalendar?1:e.weekStartsOn,firstWeekContainsDate:e.firstWeekContainsDate,useAdditionalWeekYearTokens:e.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:e.useAdditionalDayOfYearTokens,timeZone:e.timeZone,numerals:e.numerals},e.dateLib),components:no(e.components),formatters:mo(e.formatters),labels:{...To,...e.labels},locale:S,classNames:{...so(),...e.classNames}}},[e.locale,e.broadcastCalendar,e.weekStartsOn,e.firstWeekContainsDate,e.useAdditionalWeekYearTokens,e.useAdditionalDayOfYearTokens,e.timeZone,e.numerals,e.dateLib,e.components,e.formatters,e.labels,e.classNames]),{captionLayout:c,mode:l,onDayBlur:d,onDayClick:h,onDayFocus:u,onDayKeyDown:g,onDayMouseEnter:p,onDayMouseLeave:y,onNextClick:k,onPrevClick:w,showWeekNumber:C,styles:m}=e,{formatCaption:j,formatDay:O,formatMonthDropdown:x,formatWeekNumber:v,formatWeekNumberHeader:M,formatWeekdayName:E,formatYearDropdown:F}=n,R=qo(e,r),{days:B,months:Y,navStart:te,navEnd:N,previousMonth:_,nextMonth:$,goToMonth:T}=R,G=Zo(B,e,r),{isSelected:fe,select:ne,selected:he}=na(e,r)??{},{blur:be,focused:ge,isFocusTarget:Ge,moveFocus:pt,setFocused:Pe}=Uo(e,R,G,fe??(()=>!1),r),{labelDayButton:Rn,labelGridcell:Yn,labelGrid:Bn,labelMonthDropdown:$n,labelNav:Ln,labelWeekday:Hn,labelWeekNumber:zn,labelWeekNumberHeader:qn,labelYearDropdown:Gn}=s,Vn=f.useMemo(()=>xo(r,e.ISOWeek),[r,e.ISOWeek]),xt=l!==void 0||h!==void 0,Un=f.useCallback(()=>{_&&(T(_),w==null||w(_))},[_,T,w]),Zn=f.useCallback(()=>{$&&(T($),k==null||k($))},[T,$,k]),Jn=f.useCallback((S,I)=>W=>{W.preventDefault(),W.stopPropagation(),Pe(S),ne==null||ne(S.date,I,W),h==null||h(S.date,I,W)},[ne,h,Pe]),Kn=f.useCallback((S,I)=>W=>{Pe(S),u==null||u(S.date,I,W)},[u,Pe]),Xn=f.useCallback((S,I)=>W=>{be(),d==null||d(S.date,I,W)},[be,d]),Qn=f.useCallback((S,I)=>W=>{const le={ArrowLeft:["day",e.dir==="rtl"?"after":"before"],ArrowRight:["day",e.dir==="rtl"?"before":"after"],ArrowDown:["week","after"],ArrowUp:["week","before"],PageUp:[W.shiftKey?"year":"month","before"],PageDown:[W.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(le[W.key]){W.preventDefault(),W.stopPropagation();const[V,_e]=le[W.key];pt(V,_e)}g==null||g(S.date,I,W)},[pt,g,e.dir]),er=f.useCallback((S,I)=>W=>{p==null||p(S.date,I,W)},[p]),tr=f.useCallback((S,I)=>W=>{y==null||y(S.date,I,W)},[y]),nr=f.useCallback(S=>I=>{const W=Number(I.target.value),le=r.setMonth(r.startOfMonth(S),W);T(le)},[r,T]),rr=f.useCallback(S=>I=>{const W=Number(I.target.value),le=r.setYear(r.startOfMonth(S),W);T(le)},[r,T]),{className:sr,style:or}=f.useMemo(()=>({className:[i[D.Root],e.className].filter(Boolean).join(" "),style:{...m==null?void 0:m[D.Root],...e.style}}),[i,e.className,e.style,m]),ar=ro(e),yt=f.useRef(null);Wo(yt,!!e.animate,{classNames:i,months:Y,focused:ge,dateLib:r});const ir={dayPickerProps:e,selected:he,select:ne,isSelected:fe,months:Y,nextMonth:$,previousMonth:_,goToMonth:T,getModifiers:G,components:t,classNames:i,styles:m,labels:s,formatters:n};return b.createElement(rn.Provider,{value:ir},b.createElement(t.Root,{rootRef:e.animate?yt:void 0,className:sr,style:or,dir:e.dir,id:e.id,lang:e.lang,nonce:e.nonce,title:e.title,role:e.role,"aria-label":e["aria-label"],...ar},b.createElement(t.Months,{className:i[D.Months],style:m==null?void 0:m[D.Months]},!e.hideNavigation&&b.createElement(t.Nav,{"data-animated-nav":e.animate?"true":void 0,className:i[D.Nav],style:m==null?void 0:m[D.Nav],"aria-label":Ln(),onPreviousClick:Un,onNextClick:Zn,previousMonth:_,nextMonth:$}),Y.map((S,I)=>{const W=go(S.date,te,N,n,r),le=yo(te,N,n,r);return b.createElement(t.Month,{"data-animated-month":e.animate?"true":void 0,className:i[D.Month],style:m==null?void 0:m[D.Month],key:I,displayIndex:I,calendarMonth:S},b.createElement(t.MonthCaption,{"data-animated-caption":e.animate?"true":void 0,className:i[D.MonthCaption],style:m==null?void 0:m[D.MonthCaption],calendarMonth:S,displayIndex:I},c!=null&&c.startsWith("dropdown")?b.createElement(t.DropdownNav,{className:i[D.Dropdowns],style:m==null?void 0:m[D.Dropdowns]},c==="dropdown"||c==="dropdown-months"?b.createElement(t.MonthsDropdown,{className:i[D.MonthsDropdown],"aria-label":$n(),classNames:i,components:t,disabled:!!e.disableNavigation,onChange:nr(S.date),options:W,style:m==null?void 0:m[D.Dropdown],value:r.getMonth(S.date)}):b.createElement("span",null,x(S.date,r)),c==="dropdown"||c==="dropdown-years"?b.createElement(t.YearsDropdown,{className:i[D.YearsDropdown],"aria-label":Gn(r.options),classNames:i,components:t,disabled:!!e.disableNavigation,onChange:rr(S.date),options:le,style:m==null?void 0:m[D.Dropdown],value:r.getYear(S.date)}):b.createElement("span",null,F(S.date,r)),b.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},j(S.date,r.options,r))):b.createElement(t.CaptionLabel,{className:i[D.CaptionLabel],role:"status","aria-live":"polite"},j(S.date,r.options,r))),b.createElement(t.MonthGrid,{role:"grid","aria-multiselectable":l==="multiple"||l==="range","aria-label":Bn(S.date,r.options,r)||void 0,className:i[D.MonthGrid],style:m==null?void 0:m[D.MonthGrid]},!e.hideWeekdays&&b.createElement(t.Weekdays,{"data-animated-weekdays":e.animate?"true":void 0,className:i[D.Weekdays],style:m==null?void 0:m[D.Weekdays]},C&&b.createElement(t.WeekNumberHeader,{"aria-label":qn(r.options),className:i[D.WeekNumberHeader],style:m==null?void 0:m[D.WeekNumberHeader],scope:"col"},M()),Vn.map((V,_e)=>b.createElement(t.Weekday,{"aria-label":Hn(V,r.options,r),className:i[D.Weekday],key:_e,style:m==null?void 0:m[D.Weekday],scope:"col"},E(V,r.options,r)))),b.createElement(t.Weeks,{"data-animated-weeks":e.animate?"true":void 0,className:i[D.Weeks],style:m==null?void 0:m[D.Weeks]},S.weeks.map((V,_e)=>b.createElement(t.Week,{className:i[D.Week],key:V.weekNumber,style:m==null?void 0:m[D.Week],week:V},C&&b.createElement(t.WeekNumber,{week:V,style:m==null?void 0:m[D.WeekNumber],"aria-label":zn(V.weekNumber,{locale:a}),className:i[D.WeekNumber],scope:"row",role:"rowheader"},v(V.weekNumber)),V.days.map(H=>{const{date:K}=H,P=G(H);if(P[A.focused]=!P.hidden&&!!(ge!=null&&ge.isEqualTo(H)),P[Z.selected]=(fe==null?void 0:fe(K))||P.selected,ft(he)){const{from:Ve,to:Ue}=he;P[Z.range_start]=!!(Ve&&Ue&&r.isSameDay(K,Ve)),P[Z.range_end]=!!(Ve&&Ue&&r.isSameDay(K,Ue)),P[Z.range_middle]=oe(he,K,!0,r)}const cr=po(P,m,e.modifiersStyles),lr=Os(P,i,e.modifiersClassNames),dr=!xt&&!P.hidden?Yn(K,P,r.options,r):void 0;return b.createElement(t.Day,{key:`${r.format(K,"yyyy-MM-dd")}_${r.format(H.displayMonth,"yyyy-MM")}`,day:H,modifiers:P,className:lr.join(" "),style:cr,role:"gridcell","aria-selected":P.selected||void 0,"aria-label":dr,"data-day":r.format(K,"yyyy-MM-dd"),"data-month":H.outside?r.format(K,"yyyy-MM"):void 0,"data-selected":P.selected||void 0,"data-disabled":P.disabled||void 0,"data-hidden":P.hidden||void 0,"data-outside":H.outside||void 0,"data-focused":P.focused||void 0,"data-today":P.today||void 0},!P.hidden&&xt?b.createElement(t.DayButton,{className:i[D.DayButton],style:m==null?void 0:m[D.DayButton],type:"button",day:H,modifiers:P,disabled:P.disabled||void 0,tabIndex:Ge(H)?0:-1,"aria-label":Rn(K,P,r.options,r),onClick:Jn(H,P),onBlur:Xn(H,P),onFocus:Kn(H,P),onKeyDown:Qn(H,P),onMouseEnter:er(H,P),onMouseLeave:tr(H,P)},O(K,r.options,r)):!P.hidden&&O(H.date,r.options,r))}))))))})),e.footer&&b.createElement(t.Footer,{className:i[D.Footer],style:m==null?void 0:m[D.Footer],role:"status","aria-live":"polite"},e.footer)))}const sa=ye;function oa(e){const{goToMonth:t,nextMonth:n,previousMonth:s}=sa(),{displayMonth:r}=e,a=["January","February","March","April","May","June","July","August","September","October","November","December"],i=new Date().getFullYear(),c=Array.from({length:i-1900+11},(l,d)=>1900+d);return o.jsxs("div",{className:"flex justify-center items-center gap-1",children:[o.jsxs(vt,{value:a[r.getMonth()],onValueChange:l=>{const d=new Date(r);d.setMonth(a.indexOf(l)),t(d)},children:[o.jsx(wt,{className:"h-7 w-[110px] text-xs font-medium border-gold/50",children:o.jsx(Nt,{children:Oe(r,"MMMM")})}),o.jsx(Ct,{className:"max-h-80 z-[60] bg-background shadow-md border-gold/50 text-foreground",style:{background:"var(--background)"},children:a.map(l=>o.jsx(jt,{value:l,className:"text-xs",children:l},l))})]}),o.jsxs(vt,{value:r.getFullYear().toString(),onValueChange:l=>{const d=new Date(r);d.setFullYear(parseInt(l)),t(d)},children:[o.jsx(wt,{className:"h-7 w-[70px] text-xs font-medium border-gold/50",children:o.jsx(Nt,{children:Oe(r,"yyyy")})}),o.jsx(Ct,{className:"max-h-80 z-[60] bg-background shadow-md border-gold/50 text-foreground",style:{background:"var(--background)"},children:c.map(l=>o.jsx(jt,{value:l.toString(),className:"text-xs",children:l},l))})]})]})}function pn({className:e,classNames:t,showOutsideDays:n=!0,...s}){return o.jsx(ra,{showOutsideDays:n,className:ee("p-3 border border-gold/30 rounded-md shadow-md",e),style:{background:"var(--background)"},classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:ee(bt({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100 border-gold/50 text-foreground"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-gold rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-gold/30 [&:has([aria-selected])]:bg-gold/50 first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:ee(bt({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100 text-foreground hover:text-gold hover:bg-gold/10"),day_range_end:"day-range-end",day_selected:"bg-gold text-background hover:bg-gold hover:text-background focus:bg-gold focus:text-background",day_today:"bg-gold/20 text-gold font-medium border border-gold/50",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-gold/30 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-gold/30 aria-selected:text-gold",day_hidden:"invisible",...t},components:{IconLeft:({...r})=>o.jsx(Jr,{className:"h-4 w-4"}),IconRight:({...r})=>o.jsx(hr,{className:"h-4 w-4"}),Caption:oa},...s})}pn.displayName="Calendar";var ht="Popover",[xn,ri]=It(ht,[Re]),Ee=Re(),[aa,ue]=xn(ht),yn=e=>{const{__scopePopover:t,children:n,open:s,defaultOpen:r,onOpenChange:a,modal:i=!1}=e,c=Ee(t),l=f.useRef(null),[d,h]=f.useState(!1),[u=!1,g]=Wt({prop:s,defaultProp:r,onChange:a});return o.jsx(At,{...c,children:o.jsx(aa,{scope:t,contentId:Ft(),triggerRef:l,open:u,onOpenChange:g,onOpenToggle:f.useCallback(()=>g(p=>!p),[g]),hasCustomAnchor:d,onCustomAnchorAdd:f.useCallback(()=>h(!0),[]),onCustomAnchorRemove:f.useCallback(()=>h(!1),[]),modal:i,children:n})})};yn.displayName=ht;var bn="PopoverAnchor",ia=f.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,r=ue(bn,n),a=Ee(n),{onCustomAnchorAdd:i,onCustomAnchorRemove:c}=r;return f.useEffect(()=>(i(),()=>c()),[i,c]),o.jsx(lt,{...a,...s,ref:t})});ia.displayName=bn;var vn="PopoverTrigger",wn=f.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,r=ue(vn,n),a=Ee(n),i=Ye(t,r.triggerRef),c=o.jsx(ct.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":Mn(r.open),...s,ref:i,onClick:U(e.onClick,r.onOpenToggle)});return r.hasCustomAnchor?c:o.jsx(lt,{asChild:!0,...a,children:c})});wn.displayName=vn;var mt="PopoverPortal",[ca,la]=xn(mt,{forceMount:void 0}),Nn=e=>{const{__scopePopover:t,forceMount:n,children:s,container:r}=e,a=ue(mt,t);return o.jsx(ca,{scope:t,forceMount:n,children:o.jsx(dt,{present:n||a.open,children:o.jsx(mr,{asChild:!0,container:r,children:s})})})};Nn.displayName=mt;var pe="PopoverContent",Cn=f.forwardRef((e,t)=>{const n=la(pe,e.__scopePopover),{forceMount:s=n.forceMount,...r}=e,a=ue(pe,e.__scopePopover);return o.jsx(dt,{present:s||a.open,children:a.modal?o.jsx(ua,{...r,ref:t}):o.jsx(fa,{...r,ref:t})})});Cn.displayName=pe;var da=xr("PopoverContent.RemoveScroll"),ua=f.forwardRef((e,t)=>{const n=ue(pe,e.__scopePopover),s=f.useRef(null),r=Ye(t,s),a=f.useRef(!1);return f.useEffect(()=>{const i=s.current;if(i)return gr(i)},[]),o.jsx(pr,{as:da,allowPinchZoom:!0,children:o.jsx(jn,{...e,ref:r,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:U(e.onCloseAutoFocus,i=>{var c;i.preventDefault(),a.current||(c=n.triggerRef.current)==null||c.focus()}),onPointerDownOutside:U(e.onPointerDownOutside,i=>{const c=i.detail.originalEvent,l=c.button===0&&c.ctrlKey===!0,d=c.button===2||l;a.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:U(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),fa=f.forwardRef((e,t)=>{const n=ue(pe,e.__scopePopover),s=f.useRef(!1),r=f.useRef(!1);return o.jsx(jn,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var i,c;(i=e.onCloseAutoFocus)==null||i.call(e,a),a.defaultPrevented||(s.current||(c=n.triggerRef.current)==null||c.focus(),a.preventDefault()),s.current=!1,r.current=!1},onInteractOutside:a=>{var l,d;(l=e.onInteractOutside)==null||l.call(e,a),a.defaultPrevented||(s.current=!0,a.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const i=a.target;((d=n.triggerRef.current)==null?void 0:d.contains(i))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&r.current&&a.preventDefault()}})}),jn=f.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:s,onOpenAutoFocus:r,onCloseAutoFocus:a,disableOutsidePointerEvents:i,onEscapeKeyDown:c,onPointerDownOutside:l,onFocusOutside:d,onInteractOutside:h,...u}=e,g=ue(pe,n),p=Ee(n);return yr(),o.jsx(br,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:r,onUnmountAutoFocus:a,children:o.jsx(Rt,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:h,onEscapeKeyDown:c,onPointerDownOutside:l,onFocusOutside:d,onDismiss:()=>g.onOpenChange(!1),children:o.jsx(Yt,{"data-state":Mn(g.open),role:"dialog",id:g.contentId,...p,...u,ref:t,style:{...u.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),kn="PopoverClose",ha=f.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,r=ue(kn,n);return o.jsx(ct.button,{type:"button",...s,ref:t,onClick:U(e.onClick,()=>r.onOpenChange(!1))})});ha.displayName=kn;var ma="PopoverArrow",ga=f.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,r=Ee(n);return o.jsx(Bt,{...r,...s,ref:t})});ga.displayName=ma;function Mn(e){return e?"open":"closed"}var pa=yn,xa=wn,ya=Nn,Dn=Cn;const ba=pa,va=xa,On=f.forwardRef(({className:e,align:t="center",sideOffset:n=4,...s},r)=>o.jsx(ya,{children:o.jsx(Dn,{ref:r,align:t,sideOffset:n,className:ee("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));On.displayName=Dn.displayName;var[Le,si]=It("Tooltip",[Re]),He=Re(),Sn="TooltipProvider",wa=700,st="tooltip.open",[Na,gt]=Le(Sn),Tn=e=>{const{__scopeTooltip:t,delayDuration:n=wa,skipDelayDuration:s=300,disableHoverableContent:r=!1,children:a}=e,i=f.useRef(!0),c=f.useRef(!1),l=f.useRef(0);return f.useEffect(()=>{const d=l.current;return()=>window.clearTimeout(d)},[]),o.jsx(Na,{scope:t,isOpenDelayedRef:i,delayDuration:n,onOpen:f.useCallback(()=>{window.clearTimeout(l.current),i.current=!1},[]),onClose:f.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.current=!0,s)},[s]),isPointerInTransitRef:c,onPointerInTransitChange:f.useCallback(d=>{c.current=d},[]),disableHoverableContent:r,children:a})};Tn.displayName=Sn;var ze="Tooltip",[Ca,qe]=Le(ze),En=e=>{const{__scopeTooltip:t,children:n,open:s,defaultOpen:r=!1,onOpenChange:a,disableHoverableContent:i,delayDuration:c}=e,l=gt(ze,e.__scopeTooltip),d=He(t),[h,u]=f.useState(null),g=Ft(),p=f.useRef(0),y=i??l.disableHoverableContent,k=c??l.delayDuration,w=f.useRef(!1),[C=!1,m]=Wt({prop:s,defaultProp:r,onChange:M=>{M?(l.onOpen(),document.dispatchEvent(new CustomEvent(st))):l.onClose(),a==null||a(M)}}),j=f.useMemo(()=>C?w.current?"delayed-open":"instant-open":"closed",[C]),O=f.useCallback(()=>{window.clearTimeout(p.current),p.current=0,w.current=!1,m(!0)},[m]),x=f.useCallback(()=>{window.clearTimeout(p.current),p.current=0,m(!1)},[m]),v=f.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{w.current=!0,m(!0),p.current=0},k)},[k,m]);return f.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),o.jsx(At,{...d,children:o.jsx(Ca,{scope:t,contentId:g,open:C,stateAttribute:j,trigger:h,onTriggerChange:u,onTriggerEnter:f.useCallback(()=>{l.isOpenDelayedRef.current?v():O()},[l.isOpenDelayedRef,v,O]),onTriggerLeave:f.useCallback(()=>{y?x():(window.clearTimeout(p.current),p.current=0)},[x,y]),onOpen:O,onClose:x,disableHoverableContent:y,children:n})})};En.displayName=ze;var ot="TooltipTrigger",Pn=f.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,r=qe(ot,n),a=gt(ot,n),i=He(n),c=f.useRef(null),l=Ye(t,c,r.onTriggerChange),d=f.useRef(!1),h=f.useRef(!1),u=f.useCallback(()=>d.current=!1,[]);return f.useEffect(()=>()=>document.removeEventListener("pointerup",u),[u]),o.jsx(lt,{asChild:!0,...i,children:o.jsx(ct.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...s,ref:l,onPointerMove:U(e.onPointerMove,g=>{g.pointerType!=="touch"&&!h.current&&!a.isPointerInTransitRef.current&&(r.onTriggerEnter(),h.current=!0)}),onPointerLeave:U(e.onPointerLeave,()=>{r.onTriggerLeave(),h.current=!1}),onPointerDown:U(e.onPointerDown,()=>{r.open&&r.onClose(),d.current=!0,document.addEventListener("pointerup",u,{once:!0})}),onFocus:U(e.onFocus,()=>{d.current||r.onOpen()}),onBlur:U(e.onBlur,r.onClose),onClick:U(e.onClick,r.onClose)})})});Pn.displayName=ot;var ja="TooltipPortal",[oi,ka]=Le(ja,{forceMount:void 0}),xe="TooltipContent",_n=f.forwardRef((e,t)=>{const n=ka(xe,e.__scopeTooltip),{forceMount:s=n.forceMount,side:r="top",...a}=e,i=qe(xe,e.__scopeTooltip);return o.jsx(dt,{present:s||i.open,children:i.disableHoverableContent?o.jsx(Wn,{side:r,...a,ref:t}):o.jsx(Ma,{side:r,...a,ref:t})})}),Ma=f.forwardRef((e,t)=>{const n=qe(xe,e.__scopeTooltip),s=gt(xe,e.__scopeTooltip),r=f.useRef(null),a=Ye(t,r),[i,c]=f.useState(null),{trigger:l,onClose:d}=n,h=r.current,{onPointerInTransitChange:u}=s,g=f.useCallback(()=>{c(null),u(!1)},[u]),p=f.useCallback((y,k)=>{const w=y.currentTarget,C={x:y.clientX,y:y.clientY},m=Ea(C,w.getBoundingClientRect()),j=Pa(C,m),O=_a(k.getBoundingClientRect()),x=Aa([...j,...O]);c(x),u(!0)},[u]);return f.useEffect(()=>()=>g(),[g]),f.useEffect(()=>{if(l&&h){const y=w=>p(w,h),k=w=>p(w,l);return l.addEventListener("pointerleave",y),h.addEventListener("pointerleave",k),()=>{l.removeEventListener("pointerleave",y),h.removeEventListener("pointerleave",k)}}},[l,h,p,g]),f.useEffect(()=>{if(i){const y=k=>{const w=k.target,C={x:k.clientX,y:k.clientY},m=(l==null?void 0:l.contains(w))||(h==null?void 0:h.contains(w)),j=!Wa(C,i);m?g():j&&(g(),d())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[l,h,i,d,g]),o.jsx(Wn,{...e,ref:a})}),[Da,Oa]=Le(ze,{isInside:!1}),Sa=vr("TooltipContent"),Wn=f.forwardRef((e,t)=>{const{__scopeTooltip:n,children:s,"aria-label":r,onEscapeKeyDown:a,onPointerDownOutside:i,...c}=e,l=qe(xe,n),d=He(n),{onClose:h}=l;return f.useEffect(()=>(document.addEventListener(st,h),()=>document.removeEventListener(st,h)),[h]),f.useEffect(()=>{if(l.trigger){const u=g=>{const p=g.target;p!=null&&p.contains(l.trigger)&&h()};return window.addEventListener("scroll",u,{capture:!0}),()=>window.removeEventListener("scroll",u,{capture:!0})}},[l.trigger,h]),o.jsx(Rt,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:u=>u.preventDefault(),onDismiss:h,children:o.jsxs(Yt,{"data-state":l.stateAttribute,...d,...c,ref:t,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(Sa,{children:s}),o.jsx(Da,{scope:n,isInside:!0,children:o.jsx(wr,{id:l.contentId,role:"tooltip",children:r||s})})]})})});_n.displayName=xe;var An="TooltipArrow",Ta=f.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,r=He(n);return Oa(An,n).isInside?null:o.jsx(Bt,{...r,...s,ref:t})});Ta.displayName=An;function Ea(e,t){const n=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),r=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,s,r,a)){case a:return"left";case r:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function Pa(e,t,n=5){const s=[];switch(t){case"top":s.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":s.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":s.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":s.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return s}function _a(e){const{top:t,right:n,bottom:s,left:r}=e;return[{x:r,y:t},{x:n,y:t},{x:n,y:s},{x:r,y:s}]}function Wa(e,t){const{x:n,y:s}=e;let r=!1;for(let a=0,i=t.length-1;a<t.length;i=a++){const c=t[a].x,l=t[a].y,d=t[i].x,h=t[i].y;l>s!=h>s&&n<(d-c)*(s-l)/(h-l)+c&&(r=!r)}return r}function Aa(e){const t=e.slice();return t.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),Ia(t)}function Ia(e){if(e.length<=1)return e.slice();const t=[];for(let s=0;s<e.length;s++){const r=e[s];for(;t.length>=2;){const a=t[t.length-1],i=t[t.length-2];if((a.x-i.x)*(r.y-i.y)>=(a.y-i.y)*(r.x-i.x))t.pop();else break}t.push(r)}t.pop();const n=[];for(let s=e.length-1;s>=0;s--){const r=e[s];for(;n.length>=2;){const a=n[n.length-1],i=n[n.length-2];if((a.x-i.x)*(r.y-i.y)>=(a.y-i.y)*(r.x-i.x))n.pop();else break}n.push(r)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var Fa=Tn,Ra=En,Ya=Pn,In=_n;const Ba=Fa,$a=Ra,La=Ya,Fn=f.forwardRef(({className:e,sideOffset:t=4,...n},s)=>o.jsx(In,{ref:s,sideOffset:t,className:ee("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));Fn.displayName=In.displayName;const Ha=ve.object({name:ve.string().min(2,{message:"Name must be at least 2 characters"}),birthDate:ve.date({required_error:"Birth date is required"}),birthTime:ve.string().optional(),birthLocation:ve.string().min(2,{message:"Birth location must be at least 2 characters"})}),za=[{name:"Albert Einstein",birthDate:new Date("1879-03-14"),birthTime:"11:30",birthLocation:"Ulm, Germany"},{name:"Marie Curie",birthDate:new Date("1867-11-07"),birthTime:"12:00",birthLocation:"Warsaw, Poland"},{name:"Nikola Tesla",birthDate:new Date("1856-07-10"),birthTime:"00:00",birthLocation:"Smiljan, Croatia"}];function qa({onSubmit:e,isLoading:t=!1}){const[n,s]=f.useState(0),[r,a]=f.useState(!1),[i,c]=f.useState(!1),[l,d]=f.useState(!1),{user:h}=$t(),u=qr({resolver:Gr(Ha),defaultValues:{name:(h==null?void 0:h.username)||"",birthDate:void 0,birthTime:"",birthLocation:""}}),g=u.watch("birthDate"),p=u.watch("birthLocation"),y=u.watch("name"),k=async x=>{try{await e(x)}catch(v){console.error("Error in birth chart form submission:",v),v instanceof Error&&(v.message.includes("location")||v.message.includes("geocode"))&&s(1),navigator.vibrate&&navigator.vibrate(200)}},w=x=>{u.setValue("name",x.name),u.setValue("birthDate",x.birthDate),u.setValue("birthTime",x.birthTime),u.setValue("birthLocation",x.birthLocation),c(!1),s(2)},C=()=>{s(x=>Math.min(x+1,2))},m=()=>{s(x=>Math.max(x-1,0))};f.useEffect(()=>{n===1&&!g?s(0):n===2&&!p&&s(1)},[g,p,n]);const j=async()=>{a(!0);try{navigator.geolocation.getCurrentPosition(async x=>{const{latitude:v,longitude:M}=x.coords;try{const F=await(await fetch(`https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${v}&longitude=${M}&localityLanguage=en`)).json(),R=`${F.city||F.locality||""}, ${F.principalSubdivision||""}, ${F.countryName}`;u.setValue("birthLocation",R.replace(/^, /,""))}catch(E){console.error("Error getting location name:",E)}},x=>{console.error("Error getting location:",x)})}catch(x){console.error("Error detecting location:",x)}finally{a(!1)}},O={hidden:{opacity:0,x:50},visible:{opacity:1,x:0},exit:{opacity:0,x:-50}};return o.jsxs("div",{className:"bg-dark/50 p-4 sm:p-6 rounded-xl border border-light/10",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Birth Chart Analysis"}),o.jsxs("div",{className:"flex mb-6 text-sm",children:[o.jsx("div",{className:`flex-1 pb-2 ${n>=0?"border-b-2 border-accent text-accent":"border-b border-light/20 text-light/50"}`,children:"1. Personal Details"}),o.jsx("div",{className:`flex-1 pb-2 ${n>=1?"border-b-2 border-accent text-accent":"border-b border-light/20 text-light/50"}`,children:"2. Birth Location"}),o.jsx("div",{className:`flex-1 pb-2 ${n>=2?"border-b-2 border-accent text-accent":"border-b border-light/20 text-light/50"}`,children:"3. Review"})]}),o.jsx(vs,{...u,children:o.jsxs("form",{onSubmit:u.handleSubmit(k),className:"space-y-6",children:[n===0&&o.jsxs(me.div,{variants:O,initial:"hidden",animate:"visible",exit:"exit",className:"space-y-4",children:[o.jsx(Ae,{control:u.control,name:"name",render:({field:x})=>o.jsxs(we,{children:[o.jsx(Ne,{children:"Full Name"}),o.jsx(Ce,{children:o.jsx(Ze,{placeholder:"Enter your full name",...x})}),o.jsx(je,{})]})}),o.jsx(Ae,{control:u.control,name:"birthDate",render:({field:x})=>o.jsxs(we,{className:"flex flex-col",children:[o.jsx(Ne,{children:"Birth Date"}),o.jsxs(ba,{open:l,onOpenChange:d,children:[" ",o.jsx(va,{asChild:!0,children:o.jsx(Ce,{children:o.jsxs(z,{variant:"outline",className:ee("pl-3 text-left font-normal",!x.value&&"text-muted-foreground"),children:[x.value?Oe(x.value,"PPP"):o.jsx("span",{children:"Pick a date"}),o.jsx(Ut,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),o.jsx(On,{className:"w-auto p-0 bg-background",align:"start",children:o.jsx(pn,{mode:"single",selected:x.value?new Date(x.value):void 0,onSelect:v=>{x.onChange(v),d(!1)},disabled:v=>v>new Date||v<new Date("1900-01-01"),initialFocus:!0})})]}),o.jsx(je,{})]})}),o.jsx(Ae,{control:u.control,name:"birthTime",render:({field:x})=>o.jsxs(we,{children:[o.jsxs(Ne,{className:"flex items-center gap-2",children:["Birth Time",o.jsx(Ba,{children:o.jsxs($a,{children:[o.jsx(La,{asChild:!0,children:o.jsx(Mt,{className:"h-4 w-4 text-light/50"})}),o.jsx(Fn,{className:"max-w-80",children:o.jsx("p",{children:"Birth time is optional but recommended for a more accurate reading. It helps determine your Rising sign and house placements."})})]})})]}),o.jsx(Ce,{children:o.jsxs("div",{className:"relative",children:[o.jsx(Ze,{type:"time",placeholder:"HH:MM",...x,className:"pl-9"}),o.jsx(Nr,{className:"absolute left-3 top-2.5 h-4 w-4 text-light/50"})]})}),o.jsx(je,{})]})})]}),n===1&&o.jsxs(me.div,{variants:O,initial:"hidden",animate:"visible",exit:"exit",className:"space-y-4",children:[o.jsx(Ae,{control:u.control,name:"birthLocation",render:({field:x})=>o.jsxs(we,{children:[o.jsxs(Ne,{className:"flex items-center justify-between",children:[o.jsx("span",{children:"Birth Location"}),o.jsx(z,{type:"button",variant:"ghost",size:"sm",className:"h-7 text-xs text-accent hover:text-accent/80",onClick:j,disabled:r,children:r?"Detecting...":"Detect Current Location"})]}),o.jsx(Ce,{children:o.jsxs("div",{className:"relative",children:[o.jsx(Ze,{placeholder:"City, State/Province, Country",...x,className:"pl-9"}),o.jsx(Zt,{className:"absolute left-3 top-2.5 h-4 w-4 text-light/50"})]})}),o.jsx(je,{})]})}),o.jsx(qt,{className:"bg-dark/30 border-light/10",children:o.jsx(Gt,{className:"text-sm text-light/70",children:"For the most accurate birth chart, please provide the city, state/province, and country where you were born. This information helps determine the precise planetary positions at your time of birth."})})]}),n===2&&o.jsxs(me.div,{variants:O,initial:"hidden",animate:"visible",exit:"exit",className:"space-y-6",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Confirm Your Details"}),o.jsx("div",{className:"bg-dark/30 p-4 rounded-lg border border-light/10",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-light/50 text-sm",children:"Name"}),o.jsx("div",{className:"text-light font-medium",children:y})]}),o.jsx(z,{type:"button",variant:"ghost",size:"sm",className:"h-7 text-xs",onClick:()=>s(0),children:"Edit"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-light/50 text-sm",children:"Birth Date"}),o.jsx("div",{className:"text-light font-medium",children:g?Oe(g,"MMMM d, yyyy"):"Not provided"})]}),o.jsx(z,{type:"button",variant:"ghost",size:"sm",className:"h-7 text-xs",onClick:()=>s(0),children:"Edit"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-light/50 text-sm",children:"Birth Time"}),o.jsxs("div",{className:"text-light font-medium",children:[u.getValues("birthTime")||"Not provided",!u.getValues("birthTime")&&o.jsx("span",{className:"text-yellow-400/70 text-xs ml-2",children:"(Less accurate chart)"})]})]}),o.jsx(z,{type:"button",variant:"ghost",size:"sm",className:"h-7 text-xs",onClick:()=>s(0),children:"Edit"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-light/50 text-sm",children:"Birth Location"}),o.jsx("div",{className:"text-light font-medium",children:u.getValues("birthLocation")||"Not provided"})]}),o.jsx(z,{type:"button",variant:"ghost",size:"sm",className:"h-7 text-xs",onClick:()=>s(1),children:"Edit"})]})]})}),o.jsxs("div",{className:"bg-dark/30 p-4 rounded-lg border border-light/10",children:[o.jsxs("h3",{className:"text-accent flex items-center gap-2 mb-2",children:[o.jsx(Me,{size:16}),o.jsx("span",{className:"font-medium",children:"What You'll Receive"})]}),o.jsxs("ul",{className:"text-sm text-light/80 list-disc list-inside space-y-1",children:[o.jsx("li",{children:"Full birth chart with planetary positions"}),o.jsx("li",{children:"Detailed analysis of your Sun, Moon, and Rising signs"}),o.jsx("li",{children:"Interpretation of major planetary aspects"}),o.jsx("li",{children:"Personal strengths and challenges based on your chart"}),o.jsx("li",{children:"Life path insights and cosmic guidance"})]})]}),!u.getValues("birthTime")&&o.jsxs("div",{className:"bg-yellow-900/30 border border-yellow-600/50 p-3 rounded-lg text-yellow-200/80 text-sm flex items-start gap-2",children:[o.jsx(Mt,{className:"h-5 w-5 flex-shrink-0 mt-0.5"}),o.jsx("p",{children:"Without birth time, we'll provide a simplified chart. For a complete analysis, including rising sign and houses, please provide your birth time."})]})]}),o.jsxs("div",{className:"flex justify-between items-center pt-2",children:[n>0?o.jsx(z,{type:"button",variant:"outline",onClick:m,className:"border-light/20 hover:bg-dark/50",children:"Back"}):o.jsxs("div",{className:"relative",children:[o.jsx(z,{type:"button",variant:"outline",onClick:()=>c(!i),className:"border-light/20 hover:bg-dark/50",children:"Examples"}),i&&o.jsxs("div",{id:"examples-dropdown",className:"absolute top-full left-0 mt-1 p-2 bg-dark/90 border border-light/10 rounded-md shadow-lg z-10 w-60",children:[o.jsx("p",{className:"text-xs text-light/50 mb-2",children:"Famous people:"}),za.map((x,v)=>o.jsxs("button",{type:"button",className:"w-full text-left px-2 py-1.5 text-sm hover:bg-light/10 rounded flex items-center",onClick:()=>{var M;w(x),(M=document.getElementById("examples-dropdown"))==null||M.classList.add("hidden")},children:[o.jsx(Cr,{className:"h-4 w-4 mr-2 opacity-70"}),x.name]},v))]})]}),o.jsx(z,{type:"button",onClick:n===2?u.handleSubmit(k):C,className:`w-full sm:w-auto bg-accent hover:bg-accent/90 text-dark ${t?"opacity-70 cursor-not-allowed":""}`,disabled:t||n===0&&!g||n===1&&!p,children:n===2?t?"Generating...":"Generate Birth Chart":"Continue"})]})]})})]})}function Ga({sign1:e,sign2:t,content:n,onNewComparison:s}){const r=i=>{switch(i.toLowerCase()){case"aries":return"♈";case"taurus":return"♉";case"gemini":return"♊";case"cancer":return"♋";case"leo":return"♌";case"virgo":return"♍";case"libra":return"♎";case"scorpio":return"♏";case"sagittarius":return"♐";case"capricorn":return"♑";case"aquarius":return"♒";case"pisces":return"♓";default:return"★"}},a=i=>{switch(i.toLowerCase()){case"aries":case"leo":case"sagittarius":return"from-red-500/40 to-orange-500/40";case"taurus":case"virgo":case"capricorn":return"from-green-500/40 to-emerald-500/40";case"gemini":case"libra":case"aquarius":return"from-blue-500/40 to-indigo-500/40";case"cancer":case"scorpio":case"pisces":return"from-cyan-500/40 to-blue-500/40";default:return"from-gray-500/40 to-slate-500/40"}};return o.jsx("div",{className:"max-w-4xl mx-auto animate-in fade-in-50 duration-500",children:o.jsxs(Fe,{className:"bg-dark/40 backdrop-blur-md border border-light/10 overflow-hidden relative",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-dark/40 via-transparent to-dark/40 z-0"}),o.jsxs("div",{className:"relative z-10 py-8 px-6 md:px-8",children:[o.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-center gap-4 md:gap-10 mb-8",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:`w-24 h-24 rounded-full bg-gradient-to-br ${a(e)} flex items-center justify-center mb-3 mx-auto`,children:o.jsx("span",{className:"text-5xl text-light",children:r(e)})}),o.jsx("h3",{className:"font-heading text-xl font-semibold text-light",children:e.charAt(0).toUpperCase()+e.slice(1)})]}),o.jsx("div",{className:"flex items-center",children:o.jsx("div",{className:"w-12 h-12 rounded-full bg-accent/20 border border-accent/40 flex items-center justify-center",children:o.jsx(jr,{className:"h-6 w-6 text-accent"})})}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:`w-24 h-24 rounded-full bg-gradient-to-br ${a(t)} flex items-center justify-center mb-3 mx-auto`,children:o.jsx("span",{className:"text-5xl text-light",children:r(t)})}),o.jsx("h3",{className:"font-heading text-xl font-semibold text-light",children:t.charAt(0).toUpperCase()+t.slice(1)})]})]}),o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("h2",{className:"font-heading text-2xl md:text-3xl font-bold text-accent mb-3",children:"Cosmic Compatibility"}),o.jsx("div",{className:"flex justify-center gap-1 mb-4",children:Array.from({length:5}).map((i,c)=>o.jsx(Me,{className:"h-5 w-5 text-accent/70"},c))})]})]}),o.jsxs(ut,{className:"pt-0 pb-8 px-6 md:px-8 relative z-10",children:[o.jsx("div",{className:"prose prose-invert max-w-none text-light/90 mb-8",children:n.split(`

`).map((i,c)=>o.jsx("p",{className:"mb-4",children:i},c))}),s&&o.jsx("div",{className:"flex justify-center mt-8",children:o.jsx(z,{variant:"outline",className:"flex items-center justify-center gap-2 px-6 py-3 bg-accent/20 backdrop-blur-sm border border-accent/40 rounded-full text-accent hover:bg-accent/30",onClick:s,children:o.jsx("span",{children:"Try Another Comparison"})})})]})]})})}const Va=({sign:e,content:t,premiumContent:n,date:s,isPremiumUser:r=!1,onSubscribe:a,onBack:i})=>{const c="The cosmic energies are aligning to bring you clarity and purpose today. Pay attention to subtle signs and trust your intuition as you navigate through challenges. Your ruling planet is providing extra support in matters of personal growth.",l=d=>({aries:"♈",taurus:"♉",gemini:"♊",cancer:"♋",leo:"♌",virgo:"♍",libra:"♎",scorpio:"♏",sagittarius:"♐",capricorn:"♑",aquarius:"♒",pisces:"♓"})[d.toLowerCase()]||"✨";return o.jsx(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-4xl mx-auto",children:o.jsxs(Fe,{className:"bg-primary-10 border-gold/30 overflow-hidden",children:[o.jsx(Lt,{className:"pb-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-4xl",children:l(e)}),o.jsxs("div",{children:[o.jsxs(Ht,{className:"text-2xl md:text-3xl text-gold gold-sparkle",children:[e.charAt(0).toUpperCase()+e.slice(1)," Horoscope"]}),o.jsxs(zt,{className:"flex items-center mt-1",children:[o.jsx(Ut,{className:"h-4 w-4 mr-1 text-gold/70"}),o.jsx("span",{children:s||new Date().toLocaleDateString()})]})]})]}),o.jsx(kr,{variant:"outline",className:"bg-primary/20 text-gold border-gold/50",children:"Daily"})]})}),o.jsxs(ut,{className:"space-y-6 pb-6",children:[o.jsx("div",{className:"prose prose-invert max-w-none",children:o.jsx("p",{className:"text-light/90 leading-relaxed",children:t||c})}),n&&!r&&o.jsxs("div",{className:"mt-6 bg-primary/30 border border-gold/20 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(Me,{className:"h-5 w-5 text-gold"}),o.jsx("h3",{className:"font-medium text-gold",children:"Premium Insights Available"})]}),o.jsx("p",{className:"text-light/70 text-sm mb-3",children:"Unlock detailed planetary influences, love forecasts, and career guidance with a premium subscription."}),a&&o.jsxs(z,{onClick:a,size:"sm",className:"bg-gold/20 hover:bg-gold/30 text-gold border border-gold/50",children:[o.jsx(Me,{className:"mr-2 h-4 w-4"}),"Upgrade to Premium"]})]}),n&&r&&o.jsxs("div",{className:"mt-6 bg-primary/30 border border-gold/20 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(Me,{className:"h-5 w-5 text-gold"}),o.jsx("h3",{className:"font-medium text-gold",children:"Premium Insights"})]}),o.jsx("p",{className:"text-light/90 leading-relaxed",children:n})]})]}),o.jsx(Mr,{className:"pt-2 pb-6",children:i&&o.jsxs(z,{variant:"outline",onClick:i,className:"border-gold/50 text-gold",children:[o.jsx(Vr,{className:"mr-2 h-4 w-4"}),"Choose Another Sign"]})})]})})};function et({signs:e,onSelectSign:t,selectedSign:n,title:s="Select Your Zodiac Sign",description:r="Choose your sign to view your personalized astrology insights."}){const[a,i]=f.useState("fire"),c={fire:e.filter(l=>l.element==="Fire"),earth:e.filter(l=>l.element==="Earth"),air:e.filter(l=>l.element==="Air"),water:e.filter(l=>l.element==="Water")};return o.jsxs("div",{className:"w-full max-w-4xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h3",{className:"font-heading text-2xl font-semibold mb-2 text-gold",children:s}),o.jsx("p",{className:"text-light/70 max-w-xl mx-auto",children:r})]}),o.jsxs(at,{defaultValue:"fire",value:a,onValueChange:i,className:"w-full",children:[o.jsx("div",{className:"flex justify-center mb-8",children:o.jsxs(it,{className:"bg-primary-10 border border-gold/30 backdrop-blur-sm",children:[o.jsx(re,{value:"fire",className:`${a==="fire"?"bg-gradient-to-r from-red-500/20 to-orange-500/20 text-gold":"text-light/60"}`,children:"Fire"}),o.jsx(re,{value:"earth",className:`${a==="earth"?"bg-gradient-to-r from-green-500/20 to-emerald-500/20 text-gold":"text-light/60"}`,children:"Earth"}),o.jsx(re,{value:"air",className:`${a==="air"?"bg-gradient-to-r from-blue-500/20 to-indigo-500/20 text-gold":"text-light/60"}`,children:"Air"}),o.jsx(re,{value:"water",className:`${a==="water"?"bg-gradient-to-r from-cyan-500/20 to-blue-500/20 text-gold":"text-light/60"}`,children:"Water"})]})}),o.jsx(se,{value:"fire",className:"mt-0",children:o.jsx(Ie,{signs:c.fire,onSelectSign:t,selectedSign:n})}),o.jsx(se,{value:"earth",className:"mt-0",children:o.jsx(Ie,{signs:c.earth,onSelectSign:t,selectedSign:n})}),o.jsx(se,{value:"air",className:"mt-0",children:o.jsx(Ie,{signs:c.air,onSelectSign:t,selectedSign:n})}),o.jsx(se,{value:"water",className:"mt-0",children:o.jsx(Ie,{signs:c.water,onSelectSign:t,selectedSign:n})})]})]})}function Ie({signs:e,onSelectSign:t,selectedSign:n}){const s=a=>{switch(a.toLowerCase()){case"aries":return"♈";case"taurus":return"♉";case"gemini":return"♊";case"cancer":return"♋";case"leo":return"♌";case"virgo":return"♍";case"libra":return"♎";case"scorpio":return"♏";case"sagittarius":return"♐";case"capricorn":return"♑";case"aquarius":return"♒";case"pisces":return"♓";default:return"★"}},r=(a,i)=>{switch(i.toLowerCase()){case"fire":return"from-red-500/30 to-orange-500/30 border-red-500/40 hover:border-red-500/70";case"earth":return"from-green-500/30 to-emerald-500/30 border-green-500/40 hover:border-green-500/70";case"air":return"from-blue-500/30 to-indigo-500/30 border-blue-500/40 hover:border-blue-500/70";case"water":return"from-cyan-500/30 to-blue-500/30 border-cyan-500/40 hover:border-cyan-500/70";default:return"from-gray-500/30 to-slate-500/30 border-slate-500/40 hover:border-slate-500/70"}};return o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:e.map(a=>o.jsxs(z,{variant:"outline",className:`
            h-auto min-h-24 p-4 flex flex-col items-center justify-center gap-2
            bg-gradient-to-br ${r(a.sign,a.element)}
            backdrop-blur-sm rounded-xl text-light
            ${n===a.sign?"ring-2 ring-gold":""}
            transition-all duration-300 ease-in-out
          `,onClick:()=>t(a.sign),children:[o.jsx("span",{className:"text-3xl mb-1",children:s(a.sign)}),o.jsx("span",{className:"font-heading text-lg font-semibold",children:a.sign}),o.jsx("span",{className:"text-xs text-light/70",children:a.dates})]},a.sign))})}const tt=[{sign:"Aries",element:"Fire",dates:"March 21 - April 19"},{sign:"Taurus",element:"Earth",dates:"April 20 - May 20"},{sign:"Gemini",element:"Air",dates:"May 21 - June 20"},{sign:"Cancer",element:"Water",dates:"June 21 - July 22"},{sign:"Leo",element:"Fire",dates:"July 23 - August 22"},{sign:"Virgo",element:"Earth",dates:"August 23 - September 22"},{sign:"Libra",element:"Air",dates:"September 23 - October 22"},{sign:"Scorpio",element:"Water",dates:"October 23 - November 21"},{sign:"Sagittarius",element:"Fire",dates:"November 22 - December 21"},{sign:"Capricorn",element:"Earth",dates:"December 22 - January 19"},{sign:"Aquarius",element:"Air",dates:"January 20 - February 18"},{sign:"Pisces",element:"Water",dates:"February 19 - March 20"}];function ai(){const{toast:e,dismiss:t}=Dr(),{isAuthenticated:n}=$t(),[,s]=Or(),[r,a]=f.useState("horoscope"),[i,c]=f.useState(""),[l,d]=f.useState(""),[h,u]=f.useState(!1),[g,p]=f.useState(null),{data:y,isLoading:k,error:w}=kt({queryKey:["/api/horoscopes",i],queryFn:async()=>{if(!i)return null;if(console.log(`Fetching horoscope for ${i}`),i.toLowerCase()==="taurus")return console.log("Using fallback data for Taurus"),{sign:"taurus",date:new Date().toISOString().split("T")[0],content:"Today brings a strong focus on material security and comfort for Taurus. Your practical nature helps you make sound financial decisions. Take time to appreciate the simple pleasures around you - good food, beautiful surroundings, and physical comfort will restore your energy. Your determination is particularly strong today, making it an excellent time to complete tasks requiring persistence.",premium_content:"Venus forms a harmonious aspect with Jupiter, enhancing your financial prospects and bringing opportunities for growth in your material resources. This is an excellent time for investments or major purchases. Your relationships benefit from your grounded energy, and romantic partners will appreciate your dependability and warmth."};try{return await We(`/api/horoscopes/${i.toLowerCase()}`)}catch(N){return console.error(`Error fetching horoscope for ${i}:`,N),{sign:i.toLowerCase(),date:new Date().toISOString().split("T")[0],content:"The cosmic energies are aligning in your favor today. Your ruling planet is bringing clarity and purpose to your endeavors. Trust your intuition as you navigate through challenges, and remain open to unexpected opportunities that may arise.",premium_content:"The current planetary alignment suggests potential growth in both personal and professional spheres. Pay special attention to communications from unexpected sources, as they may contain valuable insights for your journey forward."}}},enabled:!!i&&r==="horoscope"}),{data:C,isLoading:m,error:j}=kt({queryKey:["/api/compatibility",i,l],queryFn:async()=>!i||!l?null:await We(`/api/compatibility/${i.toLowerCase()}/${l.toLowerCase()}`),enabled:!!i&&!!l&&h&&r==="compatibility"}),O=Pr({mutationFn:async N=>await We("/api/astrology-charts/birth-chart",{method:"POST",body:JSON.stringify(N)}),onSuccess:N=>{p(N),Er.invalidateQueries({queryKey:["/api/astrology-charts"]}),e({title:"Birth Chart Created",description:"Your birth chart has been successfully generated."})},onError:N=>{e({title:"Error creating birth chart",description:N.message,variant:"destructive"})}}),x=()=>{e({title:"Premium Feature",description:"Upgrade functionality will be available in a future update."})},v=N=>{h&&!i?c(N):h&&i?d(N):c(N)},M=()=>{c(""),d("")},E=()=>{p(null)},F=async N=>{try{if(!N.name||!N.birthDate||!N.birthLocation){const T=[];throw N.name||T.push("name"),N.birthDate||T.push("birth date"),N.birthLocation||T.push("birth location"),new Error(`Please provide your ${T.join(", ")}.`)}const _={...N,birthDate:N.birthDate instanceof Date?N.birthDate.toISOString().split("T")[0]:N.birthDate},$=e({description:"Generating your birth chart...",duration:3e4});console.log("Submitting birth chart data:",{name:_.name,birthDate:_.birthDate,birthTime:_.birthTime||"unknown",birthLocation:_.birthLocation});try{const T=await We("/api/astrology-charts/birth-chart",{method:"POST",body:JSON.stringify(_)});t($.id),p(T.data||T),e({description:"Birth chart generated successfully!",variant:"default"})}catch(T){if(t($.id),console.error("Birth chart API error:",T),T instanceof Error&&T.message.includes("log in")){console.log("Authentication required, generating preview chart");const G={id:Date.now(),userId:0,chartType:"birth-chart",chartData:{name:_.name,date:_.birthDate,time:_.birthTime||"12:00 PM",location:_.birthLocation,positions:{sun:{sign:"Aries",degree:15},moon:{sign:"Taurus",degree:22},mercury:{sign:"Pisces",degree:10},venus:{sign:"Aquarius",degree:5},mars:{sign:"Gemini",degree:18},jupiter:{sign:"Capricorn",degree:9},saturn:{sign:"Sagittarius",degree:27},uranus:{sign:"Capricorn",degree:3},neptune:{sign:"Capricorn",degree:12},pluto:{sign:"Scorpio",degree:19}}},interpretation:"This is a preview birth chart. Log in or create an account to save your charts and receive personalized interpretations.",createdAt:new Date};p(G),e({title:"Preview Chart Ready",description:"Create an account to save your chart and unlock personalized interpretations.",variant:"default"})}else throw T}}catch(_){console.error("Birth chart generation error:",_);const $=_ instanceof Error?_.message:"Failed to generate birth chart. Please try again.";let T="Failed to generate birth chart. Please try again.";throw $.includes("Service Unavailable")||$.includes("interpretation service")?T="Our interpretation service is temporarily unavailable. Please try again in a few minutes.":$.includes("Invalid birth date")?T="Please check your birth date format and try again.":$.includes("Invalid birth location")&&(T="We couldn't recognize your birth location. Please try a more specific city and country."),console.log("Showing error toast with message:",T),e({title:"Birth Chart Generation Failed",description:T,variant:"destructive",duration:8e3}),_}},[R,B]=f.useState([]),[Y,te]=f.useState([]);return f.useEffect(()=>{const N=Math.floor(window.innerWidth*window.innerHeight/1e4),_=[];for(let G=0;G<N;G++)_.push({x:Math.random()*100,y:Math.random()*100,size:Math.random()*2+1,opacity:Math.random()*.7+.3,delay:Math.random()*5});B(_);const $=()=>{const G=[],fe=Math.floor(Math.random()*2)+1;for(let ne=0;ne<fe;ne++){const he=Math.random()*30,be=Math.random()*30,ge=he+30+Math.random()*40,Ge=be+30+Math.random()*40;G.push({id:Date.now()+ne,startX:he,startY:be,endX:ge,endY:Ge,duration:1+Math.random()*2,delay:Math.random()*2})}te(G)};$();const T=setInterval(()=>{$()},5e3+Math.random()*5e3);return()=>clearInterval(T)},[]),o.jsxs("div",{className:"min-h-screen bg-dark overflow-hidden relative",style:{backgroundImage:"radial-gradient(circle at 10% 20%, rgba(74, 33, 116, 0.2) 0%, rgba(26, 26, 74, 0.1) 80%)",backgroundBlendMode:"overlay",backgroundSize:"cover",position:"relative"},children:[o.jsxs("div",{className:"fixed inset-0 pointer-events-none",children:[R.map((N,_)=>o.jsx(me.div,{className:"absolute rounded-full bg-white",initial:{opacity:0},animate:{opacity:[0,N.opacity,N.opacity*.5,N.opacity]},transition:{repeat:1/0,duration:3+N.delay,ease:"easeInOut",times:[0,.2,.8,1]},style:{left:`${N.x}%`,top:`${N.y}%`,width:`${N.size}px`,height:`${N.size}px`}},`star-${_}`)),Y.map(N=>o.jsx(me.div,{className:"absolute w-[3px] h-[3px] rounded-full bg-white",style:{left:`${N.startX}%`,top:`${N.startY}%`},initial:{opacity:0,x:0,y:0},animate:{opacity:[0,1,0],x:["0%",`${N.endX-N.startX}%`],y:["0%",`${N.endY-N.startY}%`]},transition:{duration:N.duration,delay:N.delay,ease:"linear",times:[0,.1,1]},children:o.jsx(me.div,{className:"absolute top-0 left-0 w-[60px] h-[2px] -z-10 origin-left",style:{background:"linear-gradient(90deg, rgba(255,255,255,0.8) 0%, rgba(255,255,255,0) 100%)",transform:`rotate(${Math.atan2(N.endY-N.startY,N.endX-N.startX)*(180/Math.PI)}deg)`}})},`shooting-${N.id}`))]}),o.jsx(Sr,{}),o.jsx("main",{className:"container mx-auto px-4 pt-20 pb-24 md:pb-16 md:pt-24",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-12 md:mb-16",children:[o.jsx("h2",{className:"font-heading text-4xl md:text-5xl font-bold mb-4 bg-gradient-to-r from-[#D4AF37] to-[#F5E1A4] bg-clip-text text-transparent",children:"Cosmic Astrology"}),o.jsx("p",{className:"text-light/80 max-w-2xl mx-auto",children:"Explore your cosmic blueprint, daily horoscopes, and celestial compatibility with our AI-powered astrology tools."})]}),o.jsxs(at,{defaultValue:"horoscope",value:r,onValueChange:N=>{a(N),N==="compatibility"?(u(!0),c(""),d("")):u(!1)},className:"w-full",children:[o.jsx("div",{className:"flex justify-center mb-12",children:o.jsxs(it,{className:"bg-dark/50 border border-light/10 backdrop-blur-sm h-auto p-1",children:[o.jsx(re,{value:"horoscope",className:"px-4 py-3 text-sm rounded-md data-[state=active]:bg-accent/20 data-[state=active]:text-accent",children:"Daily Horoscope"}),o.jsx(re,{value:"birth-chart",className:"px-4 py-3 text-sm rounded-md data-[state=active]:bg-accent/20 data-[state=active]:text-accent",children:"Birth Chart"}),o.jsx(re,{value:"compatibility",className:"px-4 py-3 text-sm rounded-md data-[state=active]:bg-accent/20 data-[state=active]:text-accent",children:"Compatibility"})]})}),o.jsx(se,{value:"horoscope",className:"mt-0 animate-in fade-in-50 duration-500",children:i?y?o.jsx(Va,{sign:i,content:y.content||"Today's cosmic energies are particularly favorable for you. Your ruling planet is in a strong position, bringing clarity and purpose to your endeavors. Trust your intuition and remain open to unexpected opportunities.",premiumContent:y.premium_content||"The alignment of Jupiter with your sign suggests financial growth opportunities. Personal relationships will benefit from honest communication, especially around the full moon.",date:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),isPremiumUser:!1,onSubscribe:x,onBack:()=>c("")}):k?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"w-12 h-12 border-4 border-t-accent border-r-transparent border-b-transparent border-l-transparent rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-light/70",children:"Consulting the cosmic energies..."})]}):w?o.jsx("div",{className:"text-center py-12 text-red-400",children:o.jsx("p",{children:"Error loading horoscope. Please try again."})}):null:o.jsx(et,{signs:tt,onSelectSign:v,title:"Select Your Zodiac Sign",description:"Choose your sign to view your personalized daily horoscope and cosmic guidance."})}),o.jsx(se,{value:"birth-chart",className:"mt-0 animate-in fade-in-50 duration-500",children:g?o.jsx(Xr,{chartData:g.chartData,interpretation:g.interpretation||"",onNewChart:E}):o.jsx("div",{className:"max-w-4xl mx-auto",children:o.jsxs(Fe,{children:[o.jsxs(Lt,{children:[o.jsx(Ht,{children:"Birth Chart Preview"}),o.jsx(zt,{children:"Enter your birth details to generate a free preview of your astrological birth chart"})]}),o.jsx(ut,{children:o.jsxs("div",{className:"space-y-6",children:[o.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:"Our birth chart calculator uses Swiss Ephemeris for accurate planetary positions. Enter your details below to see your Sun and Moon signs, with an option to save and view your complete chart with a premium account."}),n?o.jsx(qa,{onSubmit:F,isLoading:O.isPending}):o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"rounded-md bg-yellow-50 p-4 border border-yellow-200",children:o.jsx("p",{className:"text-sm text-yellow-700",children:"Sign in to save your birth chart and access detailed interpretations of all planetary aspects."})}),o.jsx(z,{className:"w-full",onClick:()=>s("/auth"),children:"Sign In to Generate Full Chart"})]})]})})]})})}),o.jsx(se,{value:"compatibility",className:"mt-0 animate-in fade-in-50 duration-500",children:i?l?C?o.jsx(Ga,{sign1:i,sign2:l,content:C.content,onNewComparison:M}):m?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"w-12 h-12 border-4 border-t-accent border-r-transparent border-b-transparent border-l-transparent rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-light/70",children:"Analyzing cosmic compatibility..."})]}):j?o.jsx("div",{className:"text-center py-12 text-red-400",children:o.jsx("p",{children:"Error loading compatibility reading. Please try again."})}):null:o.jsx(et,{signs:tt.filter(N=>N.sign!==i),onSelectSign:v,selectedSign:i,title:"Select Second Zodiac Sign",description:`Choose a sign to check compatibility with ${i}.`}):o.jsx(et,{signs:tt,onSelectSign:v,title:"Select First Zodiac Sign",description:"Choose the first sign for your compatibility reading."})})]})]})}),o.jsx(Tr,{}),o.jsx(Ur,{})]})}export{ai as default};
